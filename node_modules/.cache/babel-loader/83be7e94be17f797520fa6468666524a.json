{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Logger_1 = require(\"./Logger\");\n\nvar logger = new Logger_1.ConsoleLogger('Parser');\n\nexports.parseMobileHubConfig = function (config) {\n  var amplifyConfig = {}; // Analytics\n\n  if (config['aws_mobile_analytics_app_id']) {\n    var Analytics = {\n      AWSPinpoint: {\n        appId: config['aws_mobile_analytics_app_id'],\n        region: config['aws_mobile_analytics_app_region']\n      }\n    };\n    amplifyConfig.Analytics = Analytics;\n  } // Auth\n\n\n  if (config['aws_cognito_identity_pool_id'] || config['aws_user_pools_id']) {\n    amplifyConfig.Auth = {\n      userPoolId: config['aws_user_pools_id'],\n      userPoolWebClientId: config['aws_user_pools_web_client_id'],\n      region: config['aws_cognito_region'],\n      identityPoolId: config['aws_cognito_identity_pool_id'],\n      identityPoolRegion: config['aws_cognito_region'],\n      mandatorySignIn: config['aws_mandatory_sign_in'] === 'enable'\n    };\n  } // Storage\n\n\n  var storageConfig;\n\n  if (config['aws_user_files_s3_bucket']) {\n    storageConfig = {\n      AWSS3: {\n        bucket: config['aws_user_files_s3_bucket'],\n        region: config['aws_user_files_s3_bucket_region'],\n        dangerouslyConnectToHttpEndpointForTesting: config['aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing']\n      }\n    };\n  } else {\n    storageConfig = config ? config.Storage || config : {};\n  } // Logging\n\n\n  if (config['Logging']) {\n    amplifyConfig.Logging = __assign(__assign({}, config['Logging']), {\n      region: config['aws_project_region']\n    });\n  }\n\n  amplifyConfig.Analytics = Object.assign({}, amplifyConfig.Analytics, config.Analytics);\n  amplifyConfig.Auth = Object.assign({}, amplifyConfig.Auth, config.Auth);\n  amplifyConfig.Storage = Object.assign({}, storageConfig);\n  amplifyConfig.Logging = Object.assign({}, amplifyConfig.Logging, config.Logging);\n  logger.debug('parse config', config, 'to amplifyconfig', amplifyConfig);\n  return amplifyConfig;\n};\n/**\n * @deprecated use per-function export\n */\n\n\nvar Parser = function () {\n  function Parser() {}\n\n  Parser.parseMobilehubConfig = exports.parseMobileHubConfig;\n  return Parser;\n}();\n\nexports.Parser = Parser;\n/**\n * @deprecated use per-function export\n */\n\nexports.default = Parser;","map":{"version":3,"sources":["../src/Parser.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logger_1 = require(\"./Logger\");\nvar logger = new Logger_1.ConsoleLogger('Parser');\nexports.parseMobileHubConfig = function (config) {\n    var amplifyConfig = {};\n    // Analytics\n    if (config['aws_mobile_analytics_app_id']) {\n        var Analytics = {\n            AWSPinpoint: {\n                appId: config['aws_mobile_analytics_app_id'],\n                region: config['aws_mobile_analytics_app_region'],\n            },\n        };\n        amplifyConfig.Analytics = Analytics;\n    }\n    // Auth\n    if (config['aws_cognito_identity_pool_id'] || config['aws_user_pools_id']) {\n        amplifyConfig.Auth = {\n            userPoolId: config['aws_user_pools_id'],\n            userPoolWebClientId: config['aws_user_pools_web_client_id'],\n            region: config['aws_cognito_region'],\n            identityPoolId: config['aws_cognito_identity_pool_id'],\n            identityPoolRegion: config['aws_cognito_region'],\n            mandatorySignIn: config['aws_mandatory_sign_in'] === 'enable',\n        };\n    }\n    // Storage\n    var storageConfig;\n    if (config['aws_user_files_s3_bucket']) {\n        storageConfig = {\n            AWSS3: {\n                bucket: config['aws_user_files_s3_bucket'],\n                region: config['aws_user_files_s3_bucket_region'],\n                dangerouslyConnectToHttpEndpointForTesting: config['aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing'],\n            },\n        };\n    }\n    else {\n        storageConfig = config ? config.Storage || config : {};\n    }\n    // Logging\n    if (config['Logging']) {\n        amplifyConfig.Logging = __assign(__assign({}, config['Logging']), { region: config['aws_project_region'] });\n    }\n    amplifyConfig.Analytics = Object.assign({}, amplifyConfig.Analytics, config.Analytics);\n    amplifyConfig.Auth = Object.assign({}, amplifyConfig.Auth, config.Auth);\n    amplifyConfig.Storage = Object.assign({}, storageConfig);\n    amplifyConfig.Logging = Object.assign({}, amplifyConfig.Logging, config.Logging);\n    logger.debug('parse config', config, 'to amplifyconfig', amplifyConfig);\n    return amplifyConfig;\n};\n/**\n * @deprecated use per-function export\n */\nvar Parser = /** @class */ (function () {\n    function Parser() {\n    }\n    Parser.parseMobilehubConfig = exports.parseMobileHubConfig;\n    return Parser;\n}());\nexports.Parser = Parser;\n/**\n * @deprecated use per-function export\n */\nexports.default = Parser;\n//# sourceMappingURL=Parser.js.map"]},"metadata":{},"sourceType":"script"}