{"code":"(this[\"webpackJsonpwild-vet\"]=this[\"webpackJsonpwild-vet\"]||[]).push([[6],{222:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"amplify_confirm_sign_in\",(function(){return b})),n.d(t,\"amplify_confirm_sign_up\",(function(){return g})),n.d(t,\"amplify_forgot_password\",(function(){return F})),n.d(t,\"amplify_require_new_password\",(function(){return C})),n.d(t,\"amplify_sign_in\",(function(){return v})),n.d(t,\"amplify_sign_up\",(function(){return O})),n.d(t,\"amplify_verify_contact\",(function(){return I}));var r=n(14),i=n(11),a=n(40),s=n(29),o=n(34),u=n(61),l=n(9),h=n(23),c=n(97),d=n(281),p=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{u(r.next(e))}catch(t){a(t)}}function o(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}u((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},\"function\"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(o){a=[6,o],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r},b=function(){function e(e){var t=this;Object(r.k)(this,e),this.handleSubmit=function(e){return t.confirm(e)},this.headerText=l.a.CONFIRM_SMS_CODE,this.submitButtonText=l.a.CONFIRM,this.handleAuthStateChange=c.d,this.defaultFormFields=[{type:\"code\",required:!0,handleInputChange:function(e){return t.handleCodeChange(e)}}],this.formFields=this.defaultFormFields,this.mfaOption=o.c.SMS,this.loading=!1}return e.prototype.componentWillLoad=function(){this.setup()},e.prototype.userHandler=function(){this.setup()},e.prototype.setup=function(){this.user&&this.user.challengeName===o.b.SoftwareTokenMFA&&(this.mfaOption=o.c.TOTP,this.headerText===l.a.CONFIRM_SMS_CODE&&(this.headerText=l.a.CONFIRM_TOTP_CODE)),this.constructedFormFieldOptions=this.constructFormFieldOptions(this.formFields)},e.prototype.handleCodeChange=function(e){this.code=e.target.value},e.prototype.confirm=function(e){return p(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:if(e&&e.preventDefault(),t=this.user.challengeName===o.b.SoftwareTokenMFA?o.b.SoftwareTokenMFA:null,!u.a||\"function\"!==typeof u.a.confirmSignIn)throw new Error(h.d);this.loading=!0,r.label=1;case 1:return r.trys.push([1,4,5,6]),[4,u.a.confirmSignIn(this.user,this.code,t)];case 2:return r.sent(),[4,Object(d.a)(this.user,this.handleAuthStateChange)];case 3:return r.sent(),[3,6];case 4:return n=r.sent(),Object(c.a)(n),[3,6];case 5:return this.loading=!1,[7];case 6:return[2]}}))}))},e.prototype.constructFormFieldOptions=function(e){var t=this,n=[];if(void 0!==e)return e.length<=0?this.defaultFormFields:(e.forEach((function(e){\"string\"===typeof e||\"code\"!==e.type?n.push(e):n.push(Object.assign({handleInputChange:function(e){return t.handleCodeChange(e)}},e))})),n)},e.prototype.render=function(){var e=this;return Object(r.i)(r.b,null,Object(r.i)(\"amplify-form-section\",{headerText:i.a.get(this.headerText),handleSubmit:this.handleSubmit,submitButtonText:i.a.get(this.submitButtonText),loading:this.loading,secondaryFooterContent:Object(r.i)(\"span\",null,Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.SignIn)}},i.a.get(l.a.BACK_TO_SIGN_IN)))},Object(r.i)(\"amplify-auth-fields\",{formFields:this.constructedFormFieldOptions})))},Object.defineProperty(e,\"watchers\",{get:function(){return{user:[\"userHandler\"]}},enumerable:!1,configurable:!0}),e}(),g=function(){function e(e){var t=this;Object(r.k)(this,e),this.handleSubmit=function(e){return t.confirmSignUp(e)},this.headerText=l.a.CONFIRM_SIGN_UP_HEADER_TEXT,this.submitButtonText=l.a.CONFIRM_SIGN_UP_SUBMIT_BUTTON_TEXT,this.formFields=[],this.handleAuthStateChange=c.d,this.usernameAlias=\"username\",this.loading=!1,this.newFormFields=[],this.phoneNumber={countryDialCodeValue:h.o,phoneNumberValue:null}}return e.prototype.componentWillLoad=function(){this.setup()},e.prototype.formFieldsHandler=function(){this.buildFormFields()},e.prototype.userHandler=function(){this.setup()},e.prototype.setup=function(){this.userInput=this.user&&this.user.username,this._signUpAttrs=this.user&&this.user.signUpAttrs,Object(c.c)(this.usernameAlias),this.buildFormFields()},e.prototype.buildDefaultFormFields=function(){var e=this;this.newFormFields=[{type:\"\"+this.usernameAlias,required:!0,handleInputChange:this.handleFormFieldInputChange(\"\"+this.usernameAlias),value:this.userInput,disabled:!!this.userInput,inputProps:{autocomplete:\"username\"}},{type:\"code\",label:i.a.get(l.a.CONFIRM_SIGN_UP_CODE_LABEL),placeholder:i.a.get(l.a.CONFIRM_SIGN_UP_CODE_PLACEHOLDER),required:!0,hint:Object(r.i)(\"div\",null,i.a.get(l.a.CONFIRM_SIGN_UP_LOST_CODE),\" \",Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.resendConfirmCode()}},i.a.get(l.a.CONFIRM_SIGN_UP_RESEND_CODE))),handleInputChange:this.handleFormFieldInputChange(\"code\")}]},e.prototype.buildFormFields=function(){var e=this;if(0===this.formFields.length)this.buildDefaultFormFields();else{var t=[];this.formFields.forEach((function(n){var a=Object.assign({},n);\"code\"===a.type&&(a.hint=Object(c.h)(a)?Object(r.i)(\"div\",null,i.a.get(l.a.CONFIRM_SIGN_UP_LOST_CODE),\" \",Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.resendConfirmCode()}},i.a.get(l.a.CONFIRM_SIGN_UP_RESEND_CODE))):a.hint),a.handleInputChange=function(t){return e.handleFormFieldInputWithCallback(t,n)},t.push(a)})),this.newFormFields=t}},e.prototype.handleFormFieldInputChange=function(e){var t=this;switch(e){case\"username\":case\"email\":return function(e){return t.userInput=e.target.value};case\"phone_number\":return function(e){return Object(c.g)(e,t.phoneNumber)};case\"code\":return function(e){return t.code=e.target.value};default:return}},e.prototype.setFieldValue=function(e){switch(e.type){case\"username\":case\"email\":void 0===e.value?this.userInput=\"\":this.userInput=e.value;break;case\"phone_number\":e.dialCode&&(this.phoneNumber.countryDialCodeValue=e.dialCode),this.phoneNumber.phoneNumberValue=e.value}},e.prototype.handleFormFieldInputWithCallback=function(e,t){(t.handleInputChange?t.handleInputChange:function(e,t){t(e)})(e,this.handleFormFieldInputChange(t.type).bind(this))},e.prototype.getUsername=function(){if(this.user&&this.user.username)return this.user.username;switch(this.usernameAlias){case\"username\":case\"email\":return this.userInput;case\"phone_number\":return Object(c.b)(this.phoneNumber)}},e.prototype.resendConfirmCode=function(){return p(this,void 0,void 0,(function(){var e,t;return f(this,(function(n){switch(n.label){case 0:if(event&&event.preventDefault(),!u.a||\"function\"!==typeof u.a.resendSignUp)throw new Error(h.d);n.label=1;case 1:if(n.trys.push([1,3,,4]),!(e=this.getUsername()))throw new Error(l.a.EMPTY_USERNAME);return[4,u.a.resendSignUp(e.trim())];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),Object(c.a)(t),[3,4];case 4:return[2]}}))}))},e.prototype.confirmSignUp=function(e){return p(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:if(e&&e.preventDefault(),!u.a||\"function\"!==typeof u.a.confirmSignUp)throw new Error(h.d);this.loading=!0,r.label=1;case 1:if(r.trys.push([1,6,7,8]),!(t=this.getUsername()))throw new Error(l.a.EMPTY_USERNAME);return t=t.trim(),[4,u.a.confirmSignUp(t,this.code)];case 2:if(!r.sent())throw new Error(i.a.get(l.a.CONFIRM_SIGN_UP_FAILED));return this._signUpAttrs&&this._signUpAttrs.password&&\"\"!==this._signUpAttrs.password?[4,Object(d.b)(t,this._signUpAttrs.password,this.handleAuthStateChange)]:[3,4];case 3:return r.sent(),[3,5];case 4:this.handleAuthStateChange(o.a.SignIn),r.label=5;case 5:return[3,8];case 6:return n=r.sent(),Object(c.a)(n),[3,8];case 7:return this.loading=!1,[7];case 8:return[2]}}))}))},e.prototype.render=function(){var e=this;return Object(r.i)(r.b,null,Object(r.i)(\"amplify-form-section\",{headerText:i.a.get(this.headerText),submitButtonText:i.a.get(this.submitButtonText),handleSubmit:this.handleSubmit,loading:this.loading,secondaryFooterContent:Object(r.i)(\"div\",null,Object(r.i)(\"span\",null,Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.SignIn)}},i.a.get(l.a.BACK_TO_SIGN_IN))))},Object(r.i)(\"amplify-auth-fields\",{formFields:this.newFormFields})))},Object.defineProperty(e,\"watchers\",{get:function(){return{formFields:[\"formFieldsHandler\"],user:[\"userHandler\"]}},enumerable:!1,configurable:!0}),e}(),y=new a.a(\"ForgotPassword\"),F=function(){function e(e){var t=this;Object(r.k)(this,e),this.headerText=l.a.RESET_YOUR_PASSWORD,this.sendButtonText=l.a.SEND_CODE,this.submitButtonText=l.a.SUBMIT,this.formFields=[],this.handleSend=function(e){return t.send(e)},this.handleSubmit=function(e){return t.submit(e)},this.handleAuthStateChange=c.d,this.usernameAlias=\"username\",this.delivery=null,this.loading=!1,this.phoneNumber={countryDialCodeValue:h.o,phoneNumberValue:null},this.newFormFields=[],this.forgotPasswordAttrs={userInput:\"\",password:\"\",code:\"\"}}return e.prototype.componentWillLoad=function(){Object(c.c)(this.usernameAlias),this.buildFormFields()},e.prototype.formFieldsHandler=function(){this.buildFormFields()},e.prototype.buildFormFields=function(){var e=this;if(0===this.formFields.length)this.buildDefaultFormFields();else{var t=[];this.formFields.forEach((function(n){var r=Object.assign({},n);r.handleInputChange=function(t){return e.handleFormFieldInputWithCallback(t,n)},t.push(r)})),this.newFormFields=t}},e.prototype.buildDefaultFormFields=function(){switch(this.usernameAlias){case\"email\":this.newFormFields=[{type:\"email\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"email\"),inputProps:{\"data-test\":\"forgot-password-email-input\"}}];break;case\"phone_number\":this.newFormFields=[{type:\"phone_number\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"phone_number\"),inputProps:{\"data-test\":\"forgot-password-phone-number-input\"}}];break;case\"username\":default:this.newFormFields=[{type:\"username\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"username\"),inputProps:{\"data-test\":\"forgot-password-username-input\"}}]}},e.prototype.handleFormFieldInputChange=function(e){var t=this;switch(e){case\"username\":case\"email\":return function(e){return t.forgotPasswordAttrs.userInput=e.target.value};case\"phone_number\":return function(e){return Object(c.g)(e,t.phoneNumber)};case\"password\":case\"code\":return function(n){return t.forgotPasswordAttrs[e]=n.target.value};default:return}},e.prototype.setFieldValue=function(e,t){switch(e.type){case\"username\":case\"email\":void 0===e.value?t.userInput=\"\":t.userInput=e.value;break;case\"phone_number\":e.dialCode&&(this.phoneNumber.countryDialCodeValue=e.dialCode),this.phoneNumber.phoneNumberValue=e.value;break;case\"password\":case\"code\":void 0===e.value?t[e.type]=\"\":t[e.type]=e.value}},e.prototype.handleFormFieldInputWithCallback=function(e,t){(t.handleInputChange?t.handleInputChange:function(e,t){t(e)})(e,this.handleFormFieldInputChange(t.type).bind(this))},e.prototype.send=function(e){return p(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:if(e&&e.preventDefault(),!u.a||\"function\"!==typeof u.a.forgotPassword)throw new Error(h.d);switch(this.loading=!0,this.usernameAlias){case\"phone_number\":try{this.forgotPasswordAttrs.userInput=Object(c.b)(this.phoneNumber)}catch(a){Object(c.a)(a)}}r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,u.a.forgotPassword(this.forgotPasswordAttrs.userInput.trim())];case 2:return t=r.sent(),y.debug(t),this.newFormFields=[{type:\"code\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"code\"),inputProps:{\"data-test\":\"forgot-password-code-input\"}},{type:\"password\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"password\"),label:i.a.get(l.a.NEW_PASSWORD_LABEL),placeholder:i.a.get(l.a.NEW_PASSWORD_PLACEHOLDER)}],this.delivery=t.CodeDeliveryDetails,[3,5];case 3:return n=r.sent(),Object(c.a)(n),[3,5];case 4:return this.loading=!1,[7];case 5:return[2]}}))}))},e.prototype.submit=function(e){return p(this,void 0,void 0,(function(){var t,n,r,i,a,s;return f(this,(function(l){switch(l.label){case 0:if(e&&e.preventDefault(),!u.a||\"function\"!==typeof u.a.forgotPasswordSubmit)throw new Error(h.d);this.loading=!0,l.label=1;case 1:return l.trys.push([1,3,4,5]),t=this.forgotPasswordAttrs,n=t.userInput,r=t.code,i=t.password,[4,u.a.forgotPasswordSubmit(n.trim(),r,i)];case 2:return a=l.sent(),y.debug(a),this.handleAuthStateChange(o.a.SignIn),this.delivery=null,[3,5];case 3:return s=l.sent(),Object(c.a)(s),[3,5];case 4:return this.loading=!1,[7];case 5:return[2]}}))}))},e.prototype.render=function(){var e=this,t=this.delivery?function(t){return e.handleSubmit(t)}:function(t){return e.handleSend(t)},n=this.delivery?this.submitButtonText:this.sendButtonText;return Object(r.i)(r.b,null,Object(r.i)(\"amplify-form-section\",{headerText:i.a.get(this.headerText),handleSubmit:t,loading:this.loading,secondaryFooterContent:Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.SignIn)},\"data-test\":\"forgot-password-back-to-sign-in-link\"},i.a.get(l.a.BACK_TO_SIGN_IN)),testDataPrefix:\"forgot-password\",submitButtonText:i.a.get(n)},Object(r.i)(\"amplify-auth-fields\",{formFields:this.newFormFields})))},Object.defineProperty(e,\"watchers\",{get:function(){return{formFields:[\"formFieldsHandler\"]}},enumerable:!1,configurable:!0}),e}(),w=new a.a(\"amplify-require-new-password\"),C=function(){function e(e){var t=this;Object(r.k)(this,e),this.headerText=l.a.CHANGE_PASSWORD,this.submitButtonText=l.a.CHANGE_PASSWORD_ACTION,this.handleSubmit=function(e){return t.completeNewPassword(e)},this.handleAuthStateChange=c.d,this.formFields=[{type:o.e.Password,required:!0,handleInputChange:function(e){return t.handlePasswordChange(e)},label:i.a.get(l.a.NEW_PASSWORD_LABEL),placeholder:i.a.get(l.a.NEW_PASSWORD_PLACEHOLDER),inputProps:{\"data-test\":\"require-new-password-password-input\"}}],this.loading=!1,this.requiredAttributes={},this.newFormFields=this.formFields,this.phoneNumber={countryDialCodeValue:h.o,phoneNumberValue:\" \"}}return e.prototype.userHandler=function(){this.setCurrentUser()},e.prototype.handleRequiredAttributeInputChange=function(e,t){\"phone_number\"===e?this.formatPhoneNumber(t):this.requiredAttributes[e]=t.target.value},e.prototype.setCurrentUser=function(){return p(this,void 0,void 0,(function(){var e,t,n,r,i=this;return f(this,(function(a){switch(a.label){case 0:if(this.user)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,u.a.currentAuthenticatedUser()];case 2:return(e=a.sent())&&(this.currentUser=e),[3,4];case 3:return t=a.sent(),Object(c.a)(t),[3,4];case 4:return[3,6];case 5:this.currentUser=this.user,a.label=6;case 6:return this.currentUser&&this.currentUser.challengeParam&&this.currentUser.challengeParam.requiredAttributes&&(n=this.currentUser.challengeParam.requiredAttributes,r=Object(c.f)(),n.forEach((function(e){var t={type:e,required:!0,label:r[e].label,placeholder:r[e].placeholder,handleInputChange:function(t){return i.handleRequiredAttributeInputChange(e,t)},inputProps:{\"data-test\":\"require-new-password-\"+e+\"-input\"}};i.newFormFields=m(i.newFormFields,[t])}))),[2]}}))}))},e.prototype.componentWillLoad=function(){return this.setCurrentUser()},e.prototype.handlePasswordChange=function(e){this.password=e.target.value},e.prototype.formatPhoneNumber=function(e){Object(c.g)(e,this.phoneNumber);try{if(e.target.name===h.i&&this.phoneNumber.phoneNumberValue){var t=Object(c.b)(this.phoneNumber);this.requiredAttributes.phone_number=t}}catch(n){w.error(\"error in phone number field - \"+n)}},e.prototype.completeNewPassword=function(e){return p(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:if(e&&e.preventDefault(),!u.a||\"function\"!==typeof u.a.completeNewPassword)throw new Error(h.d);this.loading=!0,r.label=1;case 1:return r.trys.push([1,8,9,10]),[4,u.a.completeNewPassword(this.currentUser,this.password,this.requiredAttributes)];case 2:switch(t=r.sent(),w.debug(\"complete new password\",t),t.challengeName){case o.b.SMSMFA:return[3,3];case o.b.MFASetup:return[3,4]}return[3,5];case 3:return this.handleAuthStateChange(o.a.ConfirmSignIn,t),[3,7];case 4:return w.debug(\"TOTP setup\",t.challengeParam),this.handleAuthStateChange(o.a.TOTPSetup,t),[3,7];case 5:return[4,Object(d.a)(t,this.handleAuthStateChange)];case 6:r.sent(),r.label=7;case 7:return[3,10];case 8:return n=r.sent(),Object(c.a)(n),[3,10];case 9:return this.loading=!1,[7];case 10:return[2]}}))}))},e.prototype.render=function(){var e=this;return Object(r.i)(r.b,null,Object(r.i)(\"amplify-form-section\",{headerText:i.a.get(this.headerText),handleSubmit:this.handleSubmit,loading:this.loading,secondaryFooterContent:Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.SignIn)}},i.a.get(l.a.BACK_TO_SIGN_IN)),submitButtonText:i.a.get(this.submitButtonText)},Object(r.i)(\"amplify-auth-fields\",{formFields:this.newFormFields})))},Object.defineProperty(e,\"watchers\",{get:function(){return{user:[\"userHandler\"]}},enumerable:!1,configurable:!0}),e}(),v=function(){function e(e){var t=this;Object(r.k)(this,e),this.handleSubmit=function(e){return t.signIn(e)},this.headerText=l.a.SIGN_IN_HEADER_TEXT,this.submitButtonText=l.a.SIGN_IN_ACTION,this.handleAuthStateChange=c.d,this.usernameAlias=\"username\",this.formFields=[],this.hideSignUp=!1,this.newFormFields=[],this.loading=!1,this.phoneNumber={countryDialCodeValue:h.o,phoneNumberValue:null},this.signInAttributes={userInput:\"\",password:\"\"}}return e.prototype.componentWillLoad=function(){Object(c.c)(this.usernameAlias),this.buildFormFields()},e.prototype.formFieldsHandler=function(){this.buildFormFields()},e.prototype.handleFormFieldInputChange=function(e){var t=this;switch(e){case\"username\":case\"email\":return function(e){return t.signInAttributes.userInput=e.target.value};case\"phone_number\":return function(e){return Object(c.g)(e,t.phoneNumber)};case\"password\":return function(e){return t.signInAttributes.password=e.target.value};default:return function(){}}},e.prototype.handleFormFieldInputWithCallback=function(e,t){(t.handleInputChange?t.handleInputChange:function(e,t){t(e)})(e,this.handleFormFieldInputChange(t.type).bind(this))},e.prototype.signIn=function(e){return p(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:switch(e&&e.preventDefault(),this.loading=!0,this.usernameAlias){case\"phone_number\":try{this.signInAttributes.userInput=Object(c.b)(this.phoneNumber)}catch(r){Object(c.a)(r)}}return t=this.signInAttributes.userInput.trim(),[4,Object(d.b)(t,this.signInAttributes.password,this.handleAuthStateChange,this.usernameAlias)];case 1:return n.sent(),this.loading=!1,[2]}}))}))},e.prototype.buildDefaultFormFields=function(){var e=this,t=[];switch(this.usernameAlias){case\"email\":t.push({type:\"email\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"email\"),inputProps:{\"data-test\":\"sign-in-email-input\",autocomplete:\"username\"}});break;case\"phone_number\":t.push({type:\"phone_number\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"phone_number\"),inputProps:{\"data-test\":\"sign-in-phone-number-input\",autocomplete:\"username\"}});break;case\"username\":default:t.push({type:\"username\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"username\"),inputProps:{\"data-test\":\"sign-in-username-input\",autocomplete:\"username\"}})}t.push({type:\"password\",hint:Object(r.i)(\"div\",null,i.a.get(l.a.FORGOT_PASSWORD_TEXT),\" \",Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.ForgotPassword)},\"data-test\":\"sign-in-forgot-password-link\"},i.a.get(l.a.RESET_PASSWORD_TEXT))),required:!0,handleInputChange:this.handleFormFieldInputChange(\"password\"),inputProps:{\"data-test\":\"sign-in-password-input\"}}),this.newFormFields=m(t)},e.prototype.buildFormFields=function(){var e=this;if(0===this.formFields.length)this.buildDefaultFormFields();else{var t=[];this.formFields.forEach((function(n){var a=Object.assign({},n);\"password\"===a.type&&(a.hint=Object(c.h)(a)?Object(r.i)(\"div\",null,i.a.get(l.a.FORGOT_PASSWORD_TEXT),\" \",Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.ForgotPassword)},\"data-test\":\"sign-in-forgot-password-link\"},i.a.get(l.a.RESET_PASSWORD_TEXT))):a.hint),a.handleInputChange=function(t){return e.handleFormFieldInputWithCallback(t,n)},e.setFieldValue(a,e.signInAttributes),t.push(a)})),this.newFormFields=t}},e.prototype.setFieldValue=function(e,t){switch(e.type){case\"username\":case\"email\":void 0===e.value?t.userInput=\"\":t.userInput=e.value;break;case\"phone_number\":e.dialCode&&(this.phoneNumber.countryDialCodeValue=e.dialCode),this.phoneNumber.phoneNumberValue=e.value;break;case\"password\":void 0===e.value?t.password=\"\":t.password=e.value}},e.prototype.render=function(){var e=this;return Object(r.i)(r.b,null,Object(r.i)(\"amplify-form-section\",{headerText:i.a.get(this.headerText),handleSubmit:this.handleSubmit,testDataPrefix:\"sign-in\"},Object(r.i)(\"div\",{slot:\"subtitle\"},Object(r.i)(\"slot\",{name:\"header-subtitle\"})),Object(r.i)(\"slot\",{name:\"federated-buttons\"},Object(r.i)(\"amplify-federated-buttons\",{handleAuthStateChange:this.handleAuthStateChange,federated:this.federated})),!Object(s.d)(this.federated)&&Object(r.i)(\"amplify-strike\",null,\"or\"),Object(r.i)(\"amplify-auth-fields\",{formFields:this.newFormFields}),Object(r.i)(\"div\",{slot:\"amplify-form-section-footer\",class:\"sign-in-form-footer\"},Object(r.i)(\"slot\",{name:\"footer\"},!this.hideSignUp&&Object(r.i)(\"slot\",{name:\"secondary-footer-content\"},Object(r.i)(\"span\",null,i.a.get(l.a.NO_ACCOUNT_TEXT),\" \",Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.SignUp)},\"data-test\":\"sign-in-create-account-link\"},i.a.get(l.a.CREATE_ACCOUNT_TEXT)))),Object(r.i)(\"div\",{class:this.hideSignUp?\"full-width-footer-content\":\"\"},Object(r.i)(\"slot\",{name:\"primary-footer-content\"},Object(r.i)(\"amplify-button\",{type:\"submit\",disabled:this.loading,\"data-test\":\"sign-in-sign-in-button\"},this.loading?Object(r.i)(\"amplify-loading-spinner\",null):Object(r.i)(\"span\",null,i.a.get(this.submitButtonText)))))))))},Object.defineProperty(e,\"watchers\",{get:function(){return{formFields:[\"formFieldsHandler\"]}},enumerable:!1,configurable:!0}),e}();v.style=\":host{--footer-size:var(--amplify-text-sm);--footer-color:var(--amplify-grey);--footer-font-family:var(--amplify-font-family);--font-weight:var(--amplify-font-weight)}.sign-in-form-footer{font-family:var(--footer-font-family);font-size:var(--footer-size);color:var(--footer-color);font-weight:--font-weight;display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.sign-in-form-footer amplify-button{margin-bottom:0.625rem}@media (min-width: 672px){.sign-in-form-footer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:baseline;align-items:baseline}.sign-in-form-footer amplify-button{margin-bottom:0}}.sign-in-form-footer *+*{margin-bottom:15px}.full-width-footer-content{width:100%}\";var O=function(){function e(e){var t=this;Object(r.k)(this,e),this.handleSubmit=function(e){return t.signUp(e)},this.handleSignUp=function(e){return t.authSignUp(e)},this.headerText=l.a.SIGN_UP_HEADER_TEXT,this.submitButtonText=l.a.SIGN_UP_SUBMIT_BUTTON_TEXT,this.haveAccountText=l.a.SIGN_UP_HAVE_ACCOUNT_TEXT,this.signInText=l.a.SIGN_IN_TEXT,this.formFields=[],this.handleAuthStateChange=c.d,this.usernameAlias=\"username\",this.newFormFields=[],this.phoneNumber={countryDialCodeValue:h.o,phoneNumberValue:null},this.loading=!1,this.signUpAttributes={username:\"\",password:\"\",attributes:{}}}return e.prototype.handleFormFieldInputChange=function(e){var t=this;switch(e){case\"username\":return function(e){return t.signUpAttributes.username=e.target.value};case\"password\":return function(e){return t.signUpAttributes.password=e.target.value};case\"email\":return function(e){return t.signUpAttributes.attributes.email=e.target.value};case\"phone_number\":return function(e){return Object(c.g)(e,t.phoneNumber)};default:return function(n){return t.signUpAttributes.attributes[e]=n.target.value}}},e.prototype.handleFormFieldInputWithCallback=function(e,t){(t.handleInputChange?t.handleInputChange:function(e,t){t(e)})(e,this.handleFormFieldInputChange(t.type).bind(this))},e.prototype.authSignUp=function(e){return p(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return[4,u.a.signUp(e)];case 1:if(!(t=n.sent()))throw new Error(l.a.SIGN_UP_FAILED);return[2,t]}}))}))},e.prototype.assignPhoneNumberToSignUpAttributes=function(){if(this.phoneNumber.phoneNumberValue)try{this.signUpAttributes.attributes.phone_number=Object(c.b)(this.phoneNumber)}catch(e){Object(c.a)(e)}},e.prototype.assignUserNameAliasToSignUpAttributes=function(){switch(this.usernameAlias){case\"email\":case\"phone_number\":this.signUpAttributes.username=this.signUpAttributes.attributes[this.usernameAlias]}},e.prototype.assignFormInputToSignUpAttributes=function(){this.assignPhoneNumberToSignUpAttributes(),this.assignUserNameAliasToSignUpAttributes()},e.prototype.validateSignUpAttributes=function(){if(!this.signUpAttributes.username)throw this.usernameAlias===o.d.email?new Error(l.a.EMPTY_EMAIL):this.usernameAlias===o.d.phone_number?new Error(l.a.EMPTY_PHONE):new Error(l.a.EMPTY_USERNAME);if(this.signUpAttributes.username.indexOf(\" \")>=0)throw new Error(l.a.USERNAME_REMOVE_WHITESPACE);if(this.signUpAttributes.password!==this.signUpAttributes.password.trim())throw new Error(l.a.PASSWORD_REMOVE_WHITESPACE)},e.prototype.signUp=function(e){return p(this,void 0,void 0,(function(){var t,n,r;return f(this,(function(i){switch(i.label){case 0:if(e&&e.preventDefault(),!u.a||\"function\"!==typeof u.a.signUp)throw new Error(h.d);this.loading=!0,this.assignFormInputToSignUpAttributes(),i.label=1;case 1:return i.trys.push([1,6,7,8]),this.validateSignUpAttributes(),[4,this.handleSignUp(this.signUpAttributes)];case 2:return(t=i.sent()).userConfirmed?[4,Object(d.b)(this.signUpAttributes.username,this.signUpAttributes.password,this.handleAuthStateChange)]:[3,4];case 3:return i.sent(),[3,5];case 4:n=Object.assign({},this.signUpAttributes),this.handleAuthStateChange(o.a.ConfirmSignUp,Object.assign(Object.assign({},t.user),{signUpAttrs:n})),i.label=5;case 5:return[3,8];case 6:return r=i.sent(),Object(c.a)(r),[3,8];case 7:return this.loading=!1,[7];case 8:return[2]}}))}))},e.prototype.buildDefaultFormFields=function(){switch(this.usernameAlias){case\"email\":this.newFormFields=[{type:\"email\",placeholder:i.a.get(l.a.SIGN_UP_EMAIL_PLACEHOLDER),required:!0,handleInputChange:this.handleFormFieldInputChange(\"email\"),inputProps:{\"data-test\":\"sign-up-email-input\",autocomplete:\"username\"}},{type:\"password\",placeholder:i.a.get(l.a.SIGN_UP_PASSWORD_PLACEHOLDER),required:!0,handleInputChange:this.handleFormFieldInputChange(\"password\"),inputProps:{\"data-test\":\"sign-up-password-input\",autocomplete:\"new-password\"}},{type:\"phone_number\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"phone_number\"),inputProps:{\"data-test\":\"sign-up-phone-number-input\",autocomplete:\"tel-national\"}}];break;case\"phone_number\":this.newFormFields=[{type:\"phone_number\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"phone_number\"),inputProps:{\"data-test\":\"sign-up-phone-number-input\",autocomplete:\"username\"}},{type:\"password\",placeholder:i.a.get(l.a.SIGN_UP_PASSWORD_PLACEHOLDER),required:!0,handleInputChange:this.handleFormFieldInputChange(\"password\"),inputProps:{\"data-test\":\"sign-up-password-input\",autocomplete:\"new-password\"}},{type:\"email\",placeholder:i.a.get(l.a.SIGN_UP_EMAIL_PLACEHOLDER),required:!0,handleInputChange:this.handleFormFieldInputChange(\"email\"),inputProps:{\"data-test\":\"sign-up-email-input\",autocomplete:\"email\"}}];break;case\"username\":default:this.newFormFields=[{type:\"username\",placeholder:i.a.get(l.a.SIGN_UP_USERNAME_PLACEHOLDER),required:!0,handleInputChange:this.handleFormFieldInputChange(\"username\"),inputProps:{\"data-test\":\"sign-up-username-input\",autocomplete:\"username\"}},{type:\"password\",placeholder:i.a.get(l.a.SIGN_UP_PASSWORD_PLACEHOLDER),required:!0,handleInputChange:this.handleFormFieldInputChange(\"password\"),inputProps:{\"data-test\":\"sign-up-password-input\",autocomplete:\"new-password\"}},{type:\"email\",placeholder:i.a.get(l.a.SIGN_UP_EMAIL_PLACEHOLDER),required:!0,handleInputChange:this.handleFormFieldInputChange(\"email\"),inputProps:{\"data-test\":\"sign-up-email-input\"}},{type:\"phone_number\",required:!0,handleInputChange:this.handleFormFieldInputChange(\"phone_number\"),inputProps:{\"data-test\":\"sign-up-phone-number-input\"}}]}},e.prototype.buildFormFields=function(){var e=this;if(0===this.formFields.length)this.buildDefaultFormFields();else{var t=[];this.formFields.forEach((function(n){var r=Object.assign({},n);r.handleInputChange=function(t){return e.handleFormFieldInputWithCallback(t,n)},e.setFieldValue(n,e.signUpAttributes),t.push(r)})),this.newFormFields=t}},e.prototype.setFieldValue=function(e,t){switch(e.type){case\"username\":void 0===e.value?t.username=\"\":t.username=e.value;break;case\"password\":void 0===e.value?t.password=\"\":t.password=e.value;break;case\"email\":t.attributes.email=e.value;break;case\"phone_number\":e.dialCode&&(this.phoneNumber.countryDialCodeValue=e.dialCode),this.phoneNumber.phoneNumberValue=e.value;break;default:t.attributes[e.type]=e.value}},e.prototype.componentWillLoad=function(){Object(c.c)(this.usernameAlias),this.buildFormFields()},e.prototype.formFieldsHandler=function(){this.buildFormFields()},e.prototype.render=function(){var e=this;return Object(r.i)(r.b,null,Object(r.i)(\"amplify-form-section\",{headerText:i.a.get(this.headerText),handleSubmit:this.handleSubmit,testDataPrefix:\"sign-up\"},Object(r.i)(\"div\",{slot:\"subtitle\"},Object(r.i)(\"slot\",{name:\"header-subtitle\"})),Object(r.i)(\"amplify-auth-fields\",{formFields:this.newFormFields}),Object(r.i)(\"div\",{class:\"sign-up-form-footer\",slot:\"amplify-form-section-footer\"},Object(r.i)(\"slot\",{name:\"footer\"},Object(r.i)(\"slot\",{name:\"secondary-footer-content\"},Object(r.i)(\"span\",null,i.a.get(this.haveAccountText),\" \",Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.SignIn)},\"data-test\":\"sign-up-sign-in-link\"},i.a.get(this.signInText)))),Object(r.i)(\"slot\",{name:\"primary-footer-content\"},Object(r.i)(\"amplify-button\",{type:\"submit\",\"data-test\":\"sign-up-create-account-button\",disabled:this.loading},this.loading?Object(r.i)(\"amplify-loading-spinner\",null):Object(r.i)(\"span\",null,i.a.get(this.submitButtonText))))))))},Object.defineProperty(e,\"watchers\",{get:function(){return{formFields:[\"formFieldsHandler\"]}},enumerable:!1,configurable:!0}),e}();O.style=\"amplify-sign-up{--footer-font-family:var(--amplify-font-family);--footer-font-size:var(--amplify-text-sm);--footer-color:var(--amplify-grey);--font-weight:var(--amplify-font-weight)}.sign-up-form-footer{font-family:var(--footer-font-family);font-size:var(--footer-font-size);color:var(--footer-color);font-weight:--font-weight;display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.sign-up-form-footer amplify-button{margin-bottom:0.625rem}@media (min-width: 672px){.sign-up-form-footer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:baseline;align-items:baseline}.sign-up-form-footer amplify-button{margin-bottom:0}}.sign-up-form-footer *+*{margin-bottom:15px}\";var _=new a.a(\"AmplifyVerifyContact\"),I=function(){function e(e){Object(r.k)(this,e),this.handleAuthStateChange=c.d,this.loading=!1}return e.prototype.handleSubmit=function(e){e.preventDefault(),this.verifyAttr?this.submit(this.code):this.verify(this.contact)},e.prototype.submit=function(e){return p(this,void 0,void 0,(function(){var t,n,r;return f(this,(function(i){switch(i.label){case 0:if(t=this.verifyAttr,!u.a||\"function\"!==typeof u.a.verifyCurrentUserAttributeSubmit)throw new Error(h.d);this.loading=!0,i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,u.a.verifyCurrentUserAttributeSubmit(t,e)];case 2:return n=i.sent(),_.debug(n),this.handleAuthStateChange(o.a.SignedIn,this.user),this.verifyAttr=null,[3,5];case 3:return r=i.sent(),Object(c.a)(r),_.error(r),[3,5];case 4:return this.loading=!1,[7];case 5:return[2]}}))}))},e.prototype.verify=function(e){return p(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:if(!e)return _.error(\"Neither Email nor Phone Number selected\"),[2];if(!u.a||\"function\"!==typeof u.a.verifyCurrentUserAttribute)throw new Error(h.d);this.loading=!0,r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,u.a.verifyCurrentUserAttribute(e)];case 2:return t=r.sent(),_.debug(t),this.verifyAttr=e,[3,5];case 3:return n=r.sent(),Object(c.a)(n),_.error(n),[3,5];case 4:return this.loading=!1,[7];case 5:return[2]}}))}))},e.prototype.handleInputChange=function(e){var t=e.target.name;\"code\"===t?this.code=e.target.value:\"contact\"===t&&(this.contact=e.target.value)},e.prototype.renderSubmit=function(){var e=this;return Object(r.i)(\"div\",null,Object(r.i)(\"amplify-input\",{inputProps:{autocomplete:\"off\",\"data-test\":\"verify-contact-code-input\"},name:\"code\",placeholder:i.a.get(l.a.CODE_PLACEHOLDER),handleInputChange:function(t){return e.handleInputChange(t)}}))},e.prototype.renderVerify=function(){var e=this,t=this.user;if(!t)return _.debug(\"No user to verify\"),null;var n=t.unverified;if(!n)return _.debug(\"Unverified variable does not exist on user\"),null;var a=n.email,s=n.phone_number;return Object(r.i)(\"div\",null,a&&Object(r.i)(\"amplify-radio-button\",{label:i.a.get(l.a.VERIFY_CONTACT_EMAIL_LABEL),key:\"email\",name:\"contact\",value:\"email\",handleInputChange:function(t){return e.handleInputChange(t)},inputProps:{\"data-test\":\"verify-contact-email-radio\"}}),s&&Object(r.i)(\"amplify-radio-button\",{label:i.a.get(l.a.VERIFY_CONTACT_PHONE_LABEL),key:\"phone_number\",name:\"contact\",value:\"phone_number\",handleInputChange:function(t){return e.handleInputChange(t)},inputProps:{\"data-test\":\"verify-contact-phone-number-radio\"}}))},e.prototype.render=function(){var e=this;return Object(r.i)(r.b,null,Object(r.i)(\"amplify-form-section\",{handleSubmit:function(t){return e.handleSubmit(t)},headerText:i.a.get(l.a.VERIFY_CONTACT_HEADER_TEXT),loading:this.loading,secondaryFooterContent:Object(r.i)(\"span\",null,Object(r.i)(\"amplify-button\",{variant:\"anchor\",onClick:function(){return e.handleAuthStateChange(o.a.SignedIn,e.user)},\"data-test\":\"verify-contact-skip-link\"},\"Skip\")),submitButtonText:this.verifyAttr?i.a.get(l.a.VERIFY_CONTACT_SUBMIT_LABEL):i.a.get(l.a.VERIFY_CONTACT_VERIFY_LABEL)},this.verifyAttr?this.renderSubmit():this.renderVerify()))},e}()},281:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return f})),n.d(t,\"b\",(function(){return m}));var r=n(40),i=n(29),a=n(34),s=n(61),o=n(19),u=n(9),l=n(23),h=n(97),c=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{u(r.next(e))}catch(t){a(t)}}function o(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}u((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},\"function\"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(o){a=[6,o],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},p=new r.a(\"auth-helpers\");function f(e,t){return c(this,void 0,void 0,(function(){var n,r,o;return d(this,(function(u){switch(u.label){case 0:if(!s.a||\"function\"!==typeof s.a.verifiedContact)throw new Error(l.d);if(!b(e))return t(a.a.SignedIn,e),[2];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,s.a.verifiedContact(e)];case 2:return n=u.sent(),!Object(i.d)(n.verified)||Object(i.d)(n.unverified)?t(a.a.SignedIn,e):(r=Object.assign(e,n),t(a.a.VerifyContact,r)),[3,4];case 3:return o=u.sent(),Object(h.a)(o),[3,4];case 4:return[2]}}))}))}var m=function(e,t,n,r){return c(void 0,void 0,void 0,(function(){var i,o;return d(this,(function(c){switch(c.label){case 0:if(!s.a||\"function\"!==typeof s.a.signIn)throw new Error(l.d);c.label=1;case 1:return c.trys.push([1,9,,10]),[4,s.a.signIn(e,t)];case 2:return i=c.sent(),p.debug(i),i.challengeName!==a.b.SMSMFA&&i.challengeName!==a.b.SoftwareTokenMFA?[3,3]:(p.debug(\"confirm user with \"+i.challengeName),n(a.a.ConfirmSignIn,i),[3,8]);case 3:return i.challengeName!==a.b.NewPasswordRequired?[3,4]:(p.debug(\"require new password\",i.challengeParam),n(a.a.ResetPassword,i),[3,8]);case 4:return i.challengeName!==a.b.MFASetup?[3,5]:(p.debug(\"TOTP setup\",i.challengeParam),n(a.a.TOTPSetup,i),[3,8]);case 5:return i.challengeName===a.b.CustomChallenge&&i.challengeParam&&\"true\"===i.challengeParam.trigger?(p.debug(\"custom challenge\",i.challengeParam),n(a.a.CustomConfirmSignIn,i),[3,8]):[3,6];case 6:return[4,f(i,n)];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:return\"UserNotConfirmedException\"===(o=c.sent()).code?(p.debug(\"the user is not confirmed\"),n(a.a.ConfirmSignUp,{username:e})):\"PasswordResetRequiredException\"===o.code?(p.debug(\"the user requires a new password\"),n(a.a.ForgotPassword,{username:e})):\"InvalidParameterException\"===o.code&&\"\"===t?(p.debug(\"Password cannot be empty\"),o.message=u.a.EMPTY_PASSWORD):o.message===u.a.EMPTY_USERNAME&&(r===a.d.email&&(o.message=u.a.EMPTY_EMAIL),r===a.d.phone_number&&(o.message=u.a.EMPTY_PHONE)),Object(h.a)(o),[3,10];case 10:return[2]}}))}))},b=function(e){return e instanceof o.e}}}]);","name":"static/js/6.2c5fa85c.chunk.js","map":{"version":3,"sources":["static/js/6.2c5fa85c.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","d","AmplifyConfirmSignIn","AmplifyConfirmSignUp","AmplifyForgotPassword","AmplifyRequireNewPassword","AmplifySignIn","AmplifySignUp","AmplifyVerifyContact","_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_3__","_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__","_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__","_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__","_constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_7__","_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__","_auth_helpers_06958a0a_js__WEBPACK_IMPORTED_MODULE_9__","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","v","op","TypeError","call","pop","length","__spreadArrays","s","i","il","arguments","Array","k","a","j","jl","class_1","hostRef","_this","Object","handleSubmit","event","confirm","headerText","CONFIRM_SMS_CODE","submitButtonText","CONFIRM","handleAuthStateChange","defaultFormFields","type","required","handleInputChange","handleCodeChange","formFields","mfaOption","SMS","loading","prototype","componentWillLoad","setup","userHandler","user","SoftwareTokenMFA","TOTP","CONFIRM_TOTP_CODE","constructedFormFieldOptions","constructFormFieldOptions","code","target","mfaType","error_1","_a","preventDefault","confirmSignIn","Error","content","undefined","forEach","formField","assign","render","get","secondaryFooterContent","variant","onClick","SignIn","BACK_TO_SIGN_IN","defineProperty","enumerable","configurable","class_2","confirmSignUp","CONFIRM_SIGN_UP_HEADER_TEXT","CONFIRM_SIGN_UP_SUBMIT_BUTTON_TEXT","usernameAlias","newFormFields","phoneNumber","countryDialCodeValue","phoneNumberValue","formFieldsHandler","buildFormFields","userInput","username","_signUpAttrs","signUpAttrs","buildDefaultFormFields","handleFormFieldInputChange","disabled","inputProps","autocomplete","CONFIRM_SIGN_UP_CODE_LABEL","placeholder","CONFIRM_SIGN_UP_CODE_PLACEHOLDER","hint","CONFIRM_SIGN_UP_LOST_CODE","resendConfirmCode","CONFIRM_SIGN_UP_RESEND_CODE","newFields_1","field","newField","handleFormFieldInputWithCallback","fieldType","setFieldValue","dialCode","cb","bind","getUsername","error_2","resendSignUp","EMPTY_USERNAME","trim","error_3","CONFIRM_SIGN_UP_FAILED","password","logger","class_3","RESET_YOUR_PASSWORD","sendButtonText","SEND_CODE","SUBMIT","handleSend","send","submit","delivery","forgotPasswordAttrs","newFields_2","formAttributes","data","error_4","forgotPassword","error","debug","NEW_PASSWORD_LABEL","NEW_PASSWORD_PLACEHOLDER","CodeDeliveryDetails","error_5","_b","forgotPasswordSubmit","submitFn","testDataPrefix","logger$1","class_4","CHANGE_PASSWORD","CHANGE_PASSWORD_ACTION","completeNewPassword","Password","handlePasswordChange","requiredAttributes","setCurrentUser","handleRequiredAttributeInputChange","attribute","formatPhoneNumber","error_6","userRequiredAttributes","requiredAttributesMap_1","currentAuthenticatedUser","currentUser","challengeParam","name","composedInput","err","error_7","challengeName","SMSMFA","MFASetup","ConfirmSignIn","TOTPSetup","class_5","signIn","SIGN_IN_HEADER_TEXT","SIGN_IN_ACTION","hideSignUp","signInAttributes","formFieldInputs","FORGOT_PASSWORD_TEXT","ForgotPassword","RESET_PASSWORD_TEXT","newFields_3","slot","federated","class","NO_ACCOUNT_TEXT","SignUp","CREATE_ACCOUNT_TEXT","style","class_6","signUp","handleSignUp","params","authSignUp","SIGN_UP_HEADER_TEXT","SIGN_UP_SUBMIT_BUTTON_TEXT","haveAccountText","SIGN_UP_HAVE_ACCOUNT_TEXT","signInText","SIGN_IN_TEXT","signUpAttributes","attributes","email","SIGN_UP_FAILED","assignPhoneNumberToSignUpAttributes","phone_number","assignUserNameAliasToSignUpAttributes","assignFormInputToSignUpAttributes","validateSignUpAttributes","EMPTY_EMAIL","EMPTY_PHONE","indexOf","USERNAME_REMOVE_WHITESPACE","PASSWORD_REMOVE_WHITESPACE","error_8","userConfirmed","ConfirmSignUp","SIGN_UP_EMAIL_PLACEHOLDER","SIGN_UP_PASSWORD_PLACEHOLDER","SIGN_UP_USERNAME_PLACEHOLDER","newFields_4","logger$2","class_7","verifyAttr","verify","contact","attr","error_9","verifyCurrentUserAttributeSubmit","SignedIn","error_10","verifyCurrentUserAttribute","inputName","renderSubmit","CODE_PLACEHOLDER","renderVerify","unverified","VERIFY_CONTACT_EMAIL_LABEL","key","VERIFY_CONTACT_PHONE_LABEL","VERIFY_CONTACT_HEADER_TEXT","VERIFY_CONTACT_SUBMIT_LABEL","VERIFY_CONTACT_VERIFY_LABEL","checkContact","handleSignIn","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_0__","_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__","_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__","_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__","_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__","_constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_6__","_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_7__","newUser","verifiedContact","isCognitoUser","verified","VerifyContact","NewPasswordRequired","ResetPassword","CustomChallenge","trigger","CustomConfirmSignIn","message","EMPTY_PASSWORD"],"mappings":"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"},"input":"(this[\"webpackJsonpwild-vet\"] = this[\"webpackJsonpwild-vet\"] || []).push([[6],{\n\n/***/ 222:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_confirm_sign_in\", function() { return AmplifyConfirmSignIn; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_confirm_sign_up\", function() { return AmplifyConfirmSignUp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_forgot_password\", function() { return AmplifyForgotPassword; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_require_new_password\", function() { return AmplifyRequireNewPassword; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_sign_in\", function() { return AmplifySignIn; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_sign_up\", function() { return AmplifySignUp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_verify_contact\", function() { return AmplifyVerifyContact; });\n/* harmony import */ var _index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(40);\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(29);\n/* harmony import */ var _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(34);\n/* harmony import */ var _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(61);\n/* harmony import */ var _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(9);\n/* harmony import */ var _constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(23);\n/* harmony import */ var _helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(97);\n/* harmony import */ var _auth_helpers_06958a0a_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(281);\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = undefined && undefined.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __spreadArrays = undefined && undefined.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\n\n\n\n\n\n\n\n\n\nvar AmplifyConfirmSignIn = function () {\n  function class_1(hostRef) {\n    var _this = this;\n\n    Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n    /** Fires when confirm sign in form is submitted */\n\n    this.handleSubmit = function (event) {\n      return _this.confirm(event);\n    };\n    /** Used for header text in confirm sign in component */\n\n\n    this.headerText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SMS_CODE;\n    /** Used for the submit button text in confirm sign in component */\n\n    this.submitButtonText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM;\n    /** Auth state change handler for this component */\n\n    this.handleAuthStateChange = _helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"d\"];\n    /** Default form field */\n\n    this.defaultFormFields = [{\n      type: 'code',\n      required: true,\n      handleInputChange: function handleInputChange(event) {\n        return _this.handleCodeChange(event);\n      }\n    }];\n    /**\n     * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.\n     * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing\n     * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.\n     * ```\n     * [\n     *  {\n     *    type: string,\n     *    label: string,\n     *    placeholder: string,\n     *    hint: string | Functional Component | null,\n     *    required: boolean\n     *  }\n     * ]\n     * ```\n     */\n\n    this.formFields = this.defaultFormFields;\n    /** The MFA option to confirm with */\n\n    this.mfaOption = _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* M */ \"c\"].SMS;\n    /* Whether or not the confirm-sign-in component is loading */\n\n    this.loading = false;\n  }\n\n  class_1.prototype.componentWillLoad = function () {\n    this.setup();\n  };\n\n  class_1.prototype.userHandler = function () {\n    this.setup();\n  };\n\n  class_1.prototype.setup = function () {\n    if (this.user && this.user['challengeName'] === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* C */ \"b\"].SoftwareTokenMFA) {\n      this.mfaOption = _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* M */ \"c\"].TOTP; // If header text is using default use TOTP string\n\n      if (this.headerText === _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SMS_CODE) {\n        this.headerText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_TOTP_CODE;\n      }\n    }\n\n    this.constructedFormFieldOptions = this.constructFormFieldOptions(this.formFields);\n  };\n\n  class_1.prototype.handleCodeChange = function (event) {\n    this.code = event.target.value;\n  };\n\n  class_1.prototype.confirm = function (event) {\n    return __awaiter(this, void 0, void 0, function () {\n      var mfaType, error_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (event) {\n              event.preventDefault();\n            }\n\n            mfaType = this.user['challengeName'] === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* C */ \"b\"].SoftwareTokenMFA ? _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* C */ \"b\"].SoftwareTokenMFA : null;\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].confirmSignIn !== 'function') {\n              throw new Error(_constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            this.loading = true;\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 4, 5, 6]);\n\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].confirmSignIn(this.user, this.code, mfaType)];\n\n          case 2:\n            _a.sent();\n\n            return [4\n            /*yield*/\n            , Object(_auth_helpers_06958a0a_js__WEBPACK_IMPORTED_MODULE_9__[/* c */ \"a\"])(this.user, this.handleAuthStateChange)];\n\n          case 3:\n            _a.sent();\n\n            return [3\n            /*break*/\n            , 6];\n\n          case 4:\n            error_1 = _a.sent();\n            Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_1);\n            return [3\n            /*break*/\n            , 6];\n\n          case 5:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 6:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.constructFormFieldOptions = function (formFields) {\n    var _this = this;\n\n    var content = [];\n    if (formFields === undefined) return undefined;\n    if (formFields.length <= 0) return this.defaultFormFields;\n    formFields.forEach(function (formField) {\n      if (typeof formField === 'string' || formField.type !== 'code') {\n        // This is either a `string`, and/or a custom field that isn't `code`. Pass this directly.\n        content.push(formField);\n      } else {\n        // This is a code input field. Attach input handler.\n        content.push(Object.assign({\n          handleInputChange: function handleInputChange(event) {\n            return _this.handleCodeChange(event);\n          }\n        }, formField));\n      }\n    });\n    return content;\n  };\n\n  class_1.prototype.render = function () {\n    var _this = this;\n\n    return Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"b\"], null, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-form-section\", {\n      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.headerText),\n      handleSubmit: this.handleSubmit,\n      submitButtonText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.submitButtonText),\n      loading: this.loading,\n      secondaryFooterContent: Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", null, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n        variant: \"anchor\",\n        onClick: function onClick() {\n          return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignIn);\n        }\n      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].BACK_TO_SIGN_IN)))\n    }, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-auth-fields\", {\n      formFields: this.constructedFormFieldOptions\n    })));\n  };\n\n  Object.defineProperty(class_1, \"watchers\", {\n    get: function get() {\n      return {\n        \"user\": [\"userHandler\"]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return class_1;\n}();\n\nvar AmplifyConfirmSignUp = function () {\n  function class_2(hostRef) {\n    var _this = this;\n\n    Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n    /** Fires when sign up form is submitted */\n\n    this.handleSubmit = function (event) {\n      return _this.confirmSignUp(event);\n    };\n    /** Used for header text in confirm sign up component */\n\n\n    this.headerText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_HEADER_TEXT;\n    /** Used for the submit button text in confirm sign up component */\n\n    this.submitButtonText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_SUBMIT_BUTTON_TEXT;\n    /**\n     * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.\n     * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing\n     * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.\n     * ```\n     * [\n     *  {\n     *    type: string,\n     *    label: string,\n     *    placeholder: string,\n     *    hint: string | Functional Component | null,\n     *    required: boolean\n     *  }\n     * ]\n     * ```\n     */\n\n    this.formFields = [];\n    /** Auth state change handler for this components\n     * e.g. SignIn -> 'Create Account' link -> SignUp\n     */\n\n    this.handleAuthStateChange = _helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"d\"];\n    /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */\n\n    this.usernameAlias = 'username';\n    this.loading = false;\n    this.newFormFields = [];\n    this.phoneNumber = {\n      countryDialCodeValue: _constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_7__[/* h */ \"o\"],\n      phoneNumberValue: null\n    };\n  }\n\n  class_2.prototype.componentWillLoad = function () {\n    this.setup();\n  };\n\n  class_2.prototype.formFieldsHandler = function () {\n    this.buildFormFields();\n  };\n\n  class_2.prototype.userHandler = function () {\n    this.setup();\n  };\n\n  class_2.prototype.setup = function () {\n    // TODO: Use optional chaining instead\n    this.userInput = this.user && this.user.username;\n    this._signUpAttrs = this.user && this.user.signUpAttrs;\n    Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"c\"])(this.usernameAlias);\n    this.buildFormFields();\n  };\n\n  class_2.prototype.buildDefaultFormFields = function () {\n    var _this = this;\n\n    this.newFormFields = [{\n      type: \"\" + this.usernameAlias,\n      required: true,\n      handleInputChange: this.handleFormFieldInputChange(\"\" + this.usernameAlias),\n      value: this.userInput,\n      disabled: this.userInput ? true : false,\n      inputProps: {\n        autocomplete: 'username'\n      }\n    }, {\n      type: 'code',\n      label: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_CODE_LABEL),\n      placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_CODE_PLACEHOLDER),\n      required: true,\n      hint: Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_LOST_CODE), ' ', Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n        variant: \"anchor\",\n        onClick: function onClick() {\n          return _this.resendConfirmCode();\n        }\n      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_RESEND_CODE))),\n      handleInputChange: this.handleFormFieldInputChange('code')\n    }];\n  };\n\n  class_2.prototype.buildFormFields = function () {\n    var _this = this;\n\n    if (this.formFields.length === 0) {\n      this.buildDefaultFormFields();\n    } else {\n      var newFields_1 = [];\n      this.formFields.forEach(function (field) {\n        var newField = Object.assign({}, field);\n\n        if (newField.type === 'code') {\n          newField['hint'] = Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[/* i */ \"h\"])(newField) ? Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_LOST_CODE), ' ', Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n            variant: \"anchor\",\n            onClick: function onClick() {\n              return _this.resendConfirmCode();\n            }\n          }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_RESEND_CODE))) : newField['hint'];\n        }\n\n        newField['handleInputChange'] = function (event) {\n          return _this.handleFormFieldInputWithCallback(event, field);\n        };\n\n        newFields_1.push(newField);\n      });\n      this.newFormFields = newFields_1;\n    }\n  };\n\n  class_2.prototype.handleFormFieldInputChange = function (fieldType) {\n    var _this = this;\n\n    switch (fieldType) {\n      case 'username':\n      case 'email':\n        return function (event) {\n          return _this.userInput = event.target.value;\n        };\n\n      case 'phone_number':\n        return function (event) {\n          return Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[/* h */ \"g\"])(event, _this.phoneNumber);\n        };\n\n      case 'code':\n        return function (event) {\n          return _this.code = event.target.value;\n        };\n\n      default:\n        return;\n    }\n  };\n\n  class_2.prototype.setFieldValue = function (field) {\n    switch (field.type) {\n      case 'username':\n      case 'email':\n        if (field.value === undefined) {\n          this.userInput = '';\n        } else {\n          this.userInput = field.value;\n        }\n\n        break;\n\n      case 'phone_number':\n        if (field.dialCode) {\n          this.phoneNumber.countryDialCodeValue = field.dialCode;\n        }\n\n        this.phoneNumber.phoneNumberValue = field.value;\n        break;\n    }\n  };\n\n  class_2.prototype.handleFormFieldInputWithCallback = function (event, field) {\n    var fnToCall = field['handleInputChange'] ? field['handleInputChange'] : function (event, cb) {\n      cb(event);\n    };\n    var callback = this.handleFormFieldInputChange(field.type);\n    fnToCall(event, callback.bind(this));\n  };\n  /**\n   * Returns the username of the user to confirm. If a valid `user.username` has been passed as a prop, we return that.\n   * Otherwise, we return the `userInput` on the form.\n   */\n\n\n  class_2.prototype.getUsername = function () {\n    if (this.user && this.user.username) return this.user.username;\n\n    switch (this.usernameAlias) {\n      case 'username':\n      case 'email':\n        return this.userInput;\n\n      case 'phone_number':\n        return Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"b\"])(this.phoneNumber);\n    }\n  };\n\n  class_2.prototype.resendConfirmCode = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var username, error_2;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (event) {\n              event.preventDefault();\n            }\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].resendSignUp !== 'function') {\n              throw new Error(_constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            username = this.getUsername();\n            if (!username) throw new Error(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].EMPTY_USERNAME);\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].resendSignUp(username.trim())];\n\n          case 2:\n            _a.sent();\n\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            error_2 = _a.sent();\n            Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_2);\n            return [3\n            /*break*/\n            , 4];\n\n          case 4:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }; // TODO: Add validation\n  // TODO: Prefix\n\n\n  class_2.prototype.confirmSignUp = function (event) {\n    return __awaiter(this, void 0, void 0, function () {\n      var username, confirmSignUpResult, error_3;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (event) {\n              event.preventDefault();\n            }\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].confirmSignUp !== 'function') {\n              throw new Error(_constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            this.loading = true;\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 6, 7, 8]);\n\n            username = this.getUsername();\n            if (!username) throw new Error(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].EMPTY_USERNAME);\n            username = username.trim();\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].confirmSignUp(username, this.code)];\n\n          case 2:\n            confirmSignUpResult = _a.sent();\n\n            if (!confirmSignUpResult) {\n              throw new Error(_aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CONFIRM_SIGN_UP_FAILED));\n            }\n\n            if (!(this._signUpAttrs && this._signUpAttrs.password && this._signUpAttrs.password !== '')) return [3\n            /*break*/\n            , 4]; // Auto sign in user if password is available from previous workflow\n\n            return [4\n            /*yield*/\n            , Object(_auth_helpers_06958a0a_js__WEBPACK_IMPORTED_MODULE_9__[/* h */ \"b\"])(username, this._signUpAttrs.password, this.handleAuthStateChange)];\n\n          case 3:\n            // Auto sign in user if password is available from previous workflow\n            _a.sent();\n\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignIn);\n            _a.label = 5;\n\n          case 5:\n            return [3\n            /*break*/\n            , 8];\n\n          case 6:\n            error_3 = _a.sent();\n            Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_3);\n            return [3\n            /*break*/\n            , 8];\n\n          case 7:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 8:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_2.prototype.render = function () {\n    var _this = this;\n\n    return Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"b\"], null, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-form-section\", {\n      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.headerText),\n      submitButtonText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.submitButtonText),\n      handleSubmit: this.handleSubmit,\n      loading: this.loading,\n      secondaryFooterContent: Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", null, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", null, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n        variant: \"anchor\",\n        onClick: function onClick() {\n          return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignIn);\n        }\n      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].BACK_TO_SIGN_IN))))\n    }, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-auth-fields\", {\n      formFields: this.newFormFields\n    })));\n  };\n\n  Object.defineProperty(class_2, \"watchers\", {\n    get: function get() {\n      return {\n        \"formFields\": [\"formFieldsHandler\"],\n        \"user\": [\"userHandler\"]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return class_2;\n}();\n\nvar logger = new _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* ConsoleLogger */ \"a\"]('ForgotPassword');\n\nvar AmplifyForgotPassword = function () {\n  function class_3(hostRef) {\n    var _this = this;\n\n    Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n    /** The header text of the forgot password section */\n\n    this.headerText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].RESET_YOUR_PASSWORD;\n    /** The text displayed inside of the send code button for the form */\n\n    this.sendButtonText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SEND_CODE;\n    /** The text displayed inside of the submit button for the form */\n\n    this.submitButtonText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SUBMIT;\n    /** The form fields displayed inside of the forgot password form */\n\n    this.formFields = [];\n    /** The function called when making a request to reset password */\n\n    this.handleSend = function (event) {\n      return _this.send(event);\n    };\n    /** The function called when submitting a new password */\n\n\n    this.handleSubmit = function (event) {\n      return _this.submit(event);\n    };\n    /** Auth state change handler for this component */\n\n\n    this.handleAuthStateChange = _helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"d\"];\n    /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */\n\n    this.usernameAlias = 'username';\n    this.delivery = null;\n    this.loading = false;\n    this.phoneNumber = {\n      countryDialCodeValue: _constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_7__[/* h */ \"o\"],\n      phoneNumberValue: null\n    };\n    this.newFormFields = [];\n    this.forgotPasswordAttrs = {\n      userInput: '',\n      password: '',\n      code: ''\n    };\n  }\n\n  class_3.prototype.componentWillLoad = function () {\n    Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"c\"])(this.usernameAlias);\n    this.buildFormFields();\n  };\n\n  class_3.prototype.formFieldsHandler = function () {\n    this.buildFormFields();\n  };\n\n  class_3.prototype.buildFormFields = function () {\n    var _this = this;\n\n    if (this.formFields.length === 0) {\n      this.buildDefaultFormFields();\n    } else {\n      var newFields_2 = [];\n      this.formFields.forEach(function (field) {\n        var newField = Object.assign({}, field);\n\n        newField['handleInputChange'] = function (event) {\n          return _this.handleFormFieldInputWithCallback(event, field);\n        };\n\n        newFields_2.push(newField);\n      });\n      this.newFormFields = newFields_2;\n    }\n  };\n\n  class_3.prototype.buildDefaultFormFields = function () {\n    switch (this.usernameAlias) {\n      case 'email':\n        this.newFormFields = [{\n          type: 'email',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('email'),\n          inputProps: {\n            'data-test': 'forgot-password-email-input'\n          }\n        }];\n        break;\n\n      case 'phone_number':\n        this.newFormFields = [{\n          type: 'phone_number',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('phone_number'),\n          inputProps: {\n            'data-test': 'forgot-password-phone-number-input'\n          }\n        }];\n        break;\n\n      case 'username':\n      default:\n        this.newFormFields = [{\n          type: 'username',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('username'),\n          inputProps: {\n            'data-test': 'forgot-password-username-input'\n          }\n        }];\n        break;\n    }\n  };\n\n  class_3.prototype.handleFormFieldInputChange = function (fieldType) {\n    var _this = this;\n\n    switch (fieldType) {\n      case 'username':\n      case 'email':\n        return function (event) {\n          return _this.forgotPasswordAttrs.userInput = event.target.value;\n        };\n\n      case 'phone_number':\n        return function (event) {\n          return Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[/* h */ \"g\"])(event, _this.phoneNumber);\n        };\n\n      case 'password':\n      case 'code':\n        return function (event) {\n          return _this.forgotPasswordAttrs[fieldType] = event.target.value;\n        };\n\n      default:\n        return;\n    }\n  };\n\n  class_3.prototype.setFieldValue = function (field, formAttributes) {\n    switch (field.type) {\n      case 'username':\n      case 'email':\n        if (field.value === undefined) {\n          formAttributes.userInput = '';\n        } else {\n          formAttributes.userInput = field.value;\n        }\n\n        break;\n\n      case 'phone_number':\n        if (field.dialCode) {\n          this.phoneNumber.countryDialCodeValue = field.dialCode;\n        }\n\n        this.phoneNumber.phoneNumberValue = field.value;\n        break;\n\n      case 'password':\n      case 'code':\n        if (field.value === undefined) {\n          formAttributes[field.type] = '';\n        } else {\n          formAttributes[field.type] = field.value;\n        }\n\n        break;\n    }\n  };\n\n  class_3.prototype.handleFormFieldInputWithCallback = function (event, field) {\n    var fnToCall = field['handleInputChange'] ? field['handleInputChange'] : function (event, cb) {\n      cb(event);\n    };\n    var callback = this.handleFormFieldInputChange(field.type);\n    fnToCall(event, callback.bind(this));\n  };\n\n  class_3.prototype.send = function (event) {\n    return __awaiter(this, void 0, void 0, function () {\n      var data, error_4;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (event) {\n              event.preventDefault();\n            }\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].forgotPassword !== 'function') {\n              throw new Error(_constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            this.loading = true;\n\n            switch (this.usernameAlias) {\n              case 'phone_number':\n                try {\n                  this.forgotPasswordAttrs.userInput = Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"b\"])(this.phoneNumber);\n                } catch (error) {\n                  Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error);\n                }\n\n                break;\n            }\n\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3, 4, 5]);\n\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].forgotPassword(this.forgotPasswordAttrs.userInput.trim())];\n\n          case 2:\n            data = _a.sent();\n            logger.debug(data);\n            this.newFormFields = [{\n              type: 'code',\n              required: true,\n              handleInputChange: this.handleFormFieldInputChange('code'),\n              inputProps: {\n                'data-test': 'forgot-password-code-input'\n              }\n            }, {\n              type: 'password',\n              required: true,\n              handleInputChange: this.handleFormFieldInputChange('password'),\n              label: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].NEW_PASSWORD_LABEL),\n              placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].NEW_PASSWORD_PLACEHOLDER)\n            }];\n            this.delivery = data.CodeDeliveryDetails;\n            return [3\n            /*break*/\n            , 5];\n\n          case 3:\n            error_4 = _a.sent();\n            Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_4);\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_3.prototype.submit = function (event) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, userInput, code, password, data, error_5;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (event) {\n              event.preventDefault();\n            }\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].forgotPasswordSubmit !== 'function') {\n              throw new Error(_constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            this.loading = true;\n            _b.label = 1;\n\n          case 1:\n            _b.trys.push([1, 3, 4, 5]);\n\n            _a = this.forgotPasswordAttrs, userInput = _a.userInput, code = _a.code, password = _a.password;\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].forgotPasswordSubmit(userInput.trim(), code, password)];\n\n          case 2:\n            data = _b.sent();\n            logger.debug(data);\n            this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignIn);\n            this.delivery = null;\n            return [3\n            /*break*/\n            , 5];\n\n          case 3:\n            error_5 = _b.sent();\n            Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_5);\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_3.prototype.render = function () {\n    var _this = this;\n\n    var submitFn = this.delivery ? function (event) {\n      return _this.handleSubmit(event);\n    } : function (event) {\n      return _this.handleSend(event);\n    };\n    var submitButtonText = this.delivery ? this.submitButtonText : this.sendButtonText;\n    return Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"b\"], null, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-form-section\", {\n      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.headerText),\n      handleSubmit: submitFn,\n      loading: this.loading,\n      secondaryFooterContent: Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n        variant: \"anchor\",\n        onClick: function onClick() {\n          return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignIn);\n        },\n        \"data-test\": \"forgot-password-back-to-sign-in-link\"\n      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].BACK_TO_SIGN_IN)),\n      testDataPrefix: 'forgot-password',\n      submitButtonText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(submitButtonText)\n    }, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-auth-fields\", {\n      formFields: this.newFormFields\n    })));\n  };\n\n  Object.defineProperty(class_3, \"watchers\", {\n    get: function get() {\n      return {\n        \"formFields\": [\"formFieldsHandler\"]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return class_3;\n}();\n\nvar logger$1 = new _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* ConsoleLogger */ \"a\"]('amplify-require-new-password');\n\nvar AmplifyRequireNewPassword = function () {\n  function class_4(hostRef) {\n    var _this = this;\n\n    Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n    /** The header text of the forgot password section */\n\n    this.headerText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CHANGE_PASSWORD;\n    /** The text displayed inside of the submit button for the form */\n\n    this.submitButtonText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CHANGE_PASSWORD_ACTION;\n    /** The function called when submitting a new password */\n\n    this.handleSubmit = function (event) {\n      return _this.completeNewPassword(event);\n    };\n    /** Auth state change handler for this component */\n\n\n    this.handleAuthStateChange = _helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"d\"];\n    /** The form fields displayed inside of the forgot password form */\n\n    this.formFields = [{\n      type: _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* a */ \"e\"].Password,\n      required: true,\n      handleInputChange: function handleInputChange(event) {\n        return _this.handlePasswordChange(event);\n      },\n      label: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].NEW_PASSWORD_LABEL),\n      placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].NEW_PASSWORD_PLACEHOLDER),\n      inputProps: {\n        'data-test': 'require-new-password-password-input'\n      }\n    }];\n    this.loading = false;\n    this.requiredAttributes = {};\n    this.newFormFields = this.formFields;\n    this.phoneNumber = {\n      countryDialCodeValue: _constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_7__[/* h */ \"o\"],\n      phoneNumberValue: ' '\n    };\n  }\n\n  class_4.prototype.userHandler = function () {\n    this.setCurrentUser();\n  };\n\n  class_4.prototype.handleRequiredAttributeInputChange = function (attribute, event) {\n    if (attribute === 'phone_number') {\n      this.formatPhoneNumber(event);\n    } else {\n      this.requiredAttributes[attribute] = event.target.value;\n    }\n  };\n\n  class_4.prototype.setCurrentUser = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var user, error_6, userRequiredAttributes, requiredAttributesMap_1;\n\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!!this.user) return [3\n            /*break*/\n            , 5];\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].currentAuthenticatedUser()];\n\n          case 2:\n            user = _a.sent();\n            if (user) this.currentUser = user;\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            error_6 = _a.sent();\n            Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_6);\n            return [3\n            /*break*/\n            , 4];\n\n          case 4:\n            return [3\n            /*break*/\n            , 6];\n\n          case 5:\n            this.currentUser = this.user;\n            _a.label = 6;\n\n          case 6:\n            if (this.currentUser && this.currentUser.challengeParam && this.currentUser.challengeParam.requiredAttributes) {\n              userRequiredAttributes = this.currentUser.challengeParam.requiredAttributes;\n              requiredAttributesMap_1 = Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[/* g */ \"f\"])();\n              userRequiredAttributes.forEach(function (attribute) {\n                var formField = {\n                  type: attribute,\n                  required: true,\n                  label: requiredAttributesMap_1[attribute].label,\n                  placeholder: requiredAttributesMap_1[attribute].placeholder,\n                  handleInputChange: function handleInputChange(event) {\n                    return _this.handleRequiredAttributeInputChange(attribute, event);\n                  },\n                  inputProps: {\n                    'data-test': \"require-new-password-\" + attribute + \"-input\"\n                  }\n                };\n                _this.newFormFields = __spreadArrays(_this.newFormFields, [formField]);\n              });\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_4.prototype.componentWillLoad = function () {\n    return this.setCurrentUser();\n  };\n\n  class_4.prototype.handlePasswordChange = function (event) {\n    this.password = event.target.value;\n  };\n\n  class_4.prototype.formatPhoneNumber = function (event) {\n    Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[/* h */ \"g\"])(event, this.phoneNumber);\n    /**\n     * composePhoneNumberInput will throw an error if the phoneNumberValue it receives\n     * is empty. Adding a check here to try and make sure that doesn't happen...but will\n     * wrap it in a try/catch block just in case as well\n     */\n\n    try {\n      if (event.target.name === _constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_7__[/* b */ \"i\"] && this.phoneNumber.phoneNumberValue) {\n        var composedInput = Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"b\"])(this.phoneNumber);\n        this.requiredAttributes['phone_number'] = composedInput;\n      }\n    } catch (err) {\n      logger$1.error(\"error in phone number field - \" + err);\n    }\n  };\n\n  class_4.prototype.completeNewPassword = function (event) {\n    return __awaiter(this, void 0, void 0, function () {\n      var user, _a, error_7;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (event) {\n              event.preventDefault();\n            }\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].completeNewPassword !== 'function') {\n              throw new Error(_constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            this.loading = true;\n            _b.label = 1;\n\n          case 1:\n            _b.trys.push([1, 8, 9, 10]);\n\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].completeNewPassword(this.currentUser, this.password, this.requiredAttributes)];\n\n          case 2:\n            user = _b.sent();\n            logger$1.debug('complete new password', user);\n            _a = user.challengeName;\n\n            switch (_a) {\n              case _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* C */ \"b\"].SMSMFA:\n                return [3\n                /*break*/\n                , 3];\n\n              case _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* C */ \"b\"].MFASetup:\n                return [3\n                /*break*/\n                , 4];\n            }\n\n            return [3\n            /*break*/\n            , 5];\n\n          case 3:\n            this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].ConfirmSignIn, user);\n            return [3\n            /*break*/\n            , 7];\n\n          case 4:\n            logger$1.debug('TOTP setup', user.challengeParam);\n            this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].TOTPSetup, user);\n            return [3\n            /*break*/\n            , 7];\n\n          case 5:\n            return [4\n            /*yield*/\n            , Object(_auth_helpers_06958a0a_js__WEBPACK_IMPORTED_MODULE_9__[/* c */ \"a\"])(user, this.handleAuthStateChange)];\n\n          case 6:\n            _b.sent();\n\n            _b.label = 7;\n\n          case 7:\n            return [3\n            /*break*/\n            , 10];\n\n          case 8:\n            error_7 = _b.sent();\n            Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_7);\n            return [3\n            /*break*/\n            , 10];\n\n          case 9:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 10:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_4.prototype.render = function () {\n    var _this = this;\n\n    return Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"b\"], null, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-form-section\", {\n      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.headerText),\n      handleSubmit: this.handleSubmit,\n      loading: this.loading,\n      secondaryFooterContent: Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n        variant: \"anchor\",\n        onClick: function onClick() {\n          return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignIn);\n        }\n      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].BACK_TO_SIGN_IN)),\n      submitButtonText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.submitButtonText)\n    }, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-auth-fields\", {\n      formFields: this.newFormFields\n    })));\n  };\n\n  Object.defineProperty(class_4, \"watchers\", {\n    get: function get() {\n      return {\n        \"user\": [\"userHandler\"]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return class_4;\n}();\n\nvar amplifySignInCss = \":host{--footer-size:var(--amplify-text-sm);--footer-color:var(--amplify-grey);--footer-font-family:var(--amplify-font-family);--font-weight:var(--amplify-font-weight)}.sign-in-form-footer{font-family:var(--footer-font-family);font-size:var(--footer-size);color:var(--footer-color);font-weight:--font-weight;display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.sign-in-form-footer amplify-button{margin-bottom:0.625rem}@media (min-width: 672px){.sign-in-form-footer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:baseline;align-items:baseline}.sign-in-form-footer amplify-button{margin-bottom:0}}.sign-in-form-footer *+*{margin-bottom:15px}.full-width-footer-content{width:100%}\";\n\nvar AmplifySignIn = function () {\n  function class_5(hostRef) {\n    var _this = this;\n\n    Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n    /** Fires when sign in form is submitted */\n\n    this.handleSubmit = function (event) {\n      return _this.signIn(event);\n    };\n    /** Used for header text in sign in component */\n\n\n    this.headerText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_IN_HEADER_TEXT;\n    /** Used for the submit button text in sign in component */\n\n    this.submitButtonText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_IN_ACTION;\n    /** Auth state change handler for this component */\n    // prettier-ignore\n\n    this.handleAuthStateChange = _helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"d\"];\n    /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */\n\n    this.usernameAlias = 'username';\n    /**\n     * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.\n     * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing\n     * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.\n     * ```\n     * [\n     *  {\n     *    type: string,\n     *    label: string,\n     *    placeholder: string,\n     *    hint: string | Functional Component | null,\n     *    required: boolean\n     *  }\n     * ]\n     * ```\n     */\n\n    this.formFields = [];\n    /** Hides the sign up link */\n\n    this.hideSignUp = false;\n    this.newFormFields = [];\n    /* Whether or not the sign-in component is loading */\n\n    this.loading = false;\n    this.phoneNumber = {\n      countryDialCodeValue: _constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_7__[/* h */ \"o\"],\n      phoneNumberValue: null\n    };\n    this.signInAttributes = {\n      userInput: '',\n      password: ''\n    };\n  }\n\n  class_5.prototype.componentWillLoad = function () {\n    Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"c\"])(this.usernameAlias);\n    this.buildFormFields();\n  };\n\n  class_5.prototype.formFieldsHandler = function () {\n    this.buildFormFields();\n  };\n\n  class_5.prototype.handleFormFieldInputChange = function (fieldType) {\n    var _this = this;\n\n    switch (fieldType) {\n      case 'username':\n      case 'email':\n        return function (event) {\n          return _this.signInAttributes.userInput = event.target.value;\n        };\n\n      case 'phone_number':\n        return function (event) {\n          return Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[/* h */ \"g\"])(event, _this.phoneNumber);\n        };\n\n      case 'password':\n        return function (event) {\n          return _this.signInAttributes.password = event.target.value;\n        };\n\n      default:\n        return function () {};\n    }\n  };\n\n  class_5.prototype.handleFormFieldInputWithCallback = function (event, field) {\n    var fnToCall = field['handleInputChange'] ? field['handleInputChange'] : function (event, cb) {\n      cb(event);\n    };\n    var callback = this.handleFormFieldInputChange(field.type);\n    fnToCall(event, callback.bind(this));\n  };\n\n  class_5.prototype.signIn = function (event) {\n    return __awaiter(this, void 0, void 0, function () {\n      var username;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            // avoid submitting the form\n            if (event) {\n              event.preventDefault();\n            }\n\n            this.loading = true;\n\n            switch (this.usernameAlias) {\n              case 'phone_number':\n                try {\n                  this.signInAttributes.userInput = Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"b\"])(this.phoneNumber);\n                } catch (error) {\n                  Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error);\n                }\n\n            }\n\n            username = this.signInAttributes.userInput.trim();\n            return [4\n            /*yield*/\n            , Object(_auth_helpers_06958a0a_js__WEBPACK_IMPORTED_MODULE_9__[/* h */ \"b\"])(username, this.signInAttributes.password, this.handleAuthStateChange, this.usernameAlias)];\n\n          case 1:\n            _a.sent();\n\n            this.loading = false;\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_5.prototype.buildDefaultFormFields = function () {\n    var _this = this;\n\n    var formFieldInputs = [];\n\n    switch (this.usernameAlias) {\n      case 'email':\n        formFieldInputs.push({\n          type: 'email',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('email'),\n          inputProps: {\n            'data-test': 'sign-in-email-input',\n            autocomplete: 'username'\n          }\n        });\n        break;\n\n      case 'phone_number':\n        formFieldInputs.push({\n          type: 'phone_number',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('phone_number'),\n          inputProps: {\n            'data-test': 'sign-in-phone-number-input',\n            autocomplete: 'username'\n          }\n        });\n        break;\n\n      case 'username':\n      default:\n        formFieldInputs.push({\n          type: 'username',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('username'),\n          inputProps: {\n            'data-test': 'sign-in-username-input',\n            autocomplete: 'username'\n          }\n        });\n        break;\n    }\n\n    formFieldInputs.push({\n      type: 'password',\n      hint: Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].FORGOT_PASSWORD_TEXT), ' ', Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n        variant: \"anchor\",\n        onClick: function onClick() {\n          return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].ForgotPassword);\n        },\n        \"data-test\": \"sign-in-forgot-password-link\"\n      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].RESET_PASSWORD_TEXT))),\n      required: true,\n      handleInputChange: this.handleFormFieldInputChange('password'),\n      inputProps: {\n        'data-test': 'sign-in-password-input'\n      }\n    });\n    this.newFormFields = __spreadArrays(formFieldInputs);\n  };\n\n  class_5.prototype.buildFormFields = function () {\n    var _this = this;\n\n    if (this.formFields.length === 0) {\n      this.buildDefaultFormFields();\n    } else {\n      var newFields_3 = [];\n      this.formFields.forEach(function (field) {\n        var newField = Object.assign({}, field); // TODO: handle hint better\n\n        if (newField.type === 'password') {\n          newField['hint'] = Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[/* i */ \"h\"])(newField) ? Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].FORGOT_PASSWORD_TEXT), ' ', Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n            variant: \"anchor\",\n            onClick: function onClick() {\n              return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].ForgotPassword);\n            },\n            \"data-test\": \"sign-in-forgot-password-link\"\n          }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].RESET_PASSWORD_TEXT))) : newField['hint'];\n        }\n\n        newField['handleInputChange'] = function (event) {\n          return _this.handleFormFieldInputWithCallback(event, field);\n        };\n\n        _this.setFieldValue(newField, _this.signInAttributes);\n\n        newFields_3.push(newField);\n      });\n      this.newFormFields = newFields_3;\n    }\n  };\n\n  class_5.prototype.setFieldValue = function (field, formAttributes) {\n    switch (field.type) {\n      case 'username':\n      case 'email':\n        if (field.value === undefined) {\n          formAttributes.userInput = '';\n        } else {\n          formAttributes.userInput = field.value;\n        }\n\n        break;\n\n      case 'phone_number':\n        if (field.dialCode) {\n          this.phoneNumber.countryDialCodeValue = field.dialCode;\n        }\n\n        this.phoneNumber.phoneNumberValue = field.value;\n        break;\n\n      case 'password':\n        if (field.value === undefined) {\n          formAttributes.password = '';\n        } else {\n          formAttributes.password = field.value;\n        }\n\n        break;\n    }\n  };\n\n  class_5.prototype.render = function () {\n    var _this = this;\n\n    return Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"b\"], null, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-form-section\", {\n      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.headerText),\n      handleSubmit: this.handleSubmit,\n      testDataPrefix: 'sign-in'\n    }, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", {\n      slot: \"subtitle\"\n    }, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"header-subtitle\"\n    })), Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"federated-buttons\"\n    }, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-federated-buttons\", {\n      handleAuthStateChange: this.handleAuthStateChange,\n      federated: this.federated\n    })), !Object(_aws_amplify_core__WEBPACK_IMPORTED_MODULE_3__[/* isEmpty */ \"d\"])(this.federated) && Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-strike\", null, \"or\"), Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-auth-fields\", {\n      formFields: this.newFormFields\n    }), Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", {\n      slot: \"amplify-form-section-footer\",\n      class: \"sign-in-form-footer\"\n    }, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"footer\"\n    }, !this.hideSignUp && Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"secondary-footer-content\"\n    }, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].NO_ACCOUNT_TEXT), ' ', Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n      variant: \"anchor\",\n      onClick: function onClick() {\n        return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignUp);\n      },\n      \"data-test\": \"sign-in-create-account-link\"\n    }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CREATE_ACCOUNT_TEXT)))), Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", {\n      class: this.hideSignUp ? 'full-width-footer-content' : ''\n    }, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"primary-footer-content\"\n    }, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n      type: \"submit\",\n      disabled: this.loading,\n      \"data-test\": \"sign-in-sign-in-button\"\n    }, this.loading ? Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-loading-spinner\", null) : Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.submitButtonText)))))))));\n  };\n\n  Object.defineProperty(class_5, \"watchers\", {\n    get: function get() {\n      return {\n        \"formFields\": [\"formFieldsHandler\"]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return class_5;\n}();\n\nAmplifySignIn.style = amplifySignInCss;\nvar amplifySignUpCss = \"amplify-sign-up{--footer-font-family:var(--amplify-font-family);--footer-font-size:var(--amplify-text-sm);--footer-color:var(--amplify-grey);--font-weight:var(--amplify-font-weight)}.sign-up-form-footer{font-family:var(--footer-font-family);font-size:var(--footer-font-size);color:var(--footer-color);font-weight:--font-weight;display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.sign-up-form-footer amplify-button{margin-bottom:0.625rem}@media (min-width: 672px){.sign-up-form-footer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:baseline;align-items:baseline}.sign-up-form-footer amplify-button{margin-bottom:0}}.sign-up-form-footer *+*{margin-bottom:15px}\";\n\nvar AmplifySignUp = function () {\n  function class_6(hostRef) {\n    var _this = this;\n\n    Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n    /** Fires when sign up form is submitted */\n\n    this.handleSubmit = function (event) {\n      return _this.signUp(event);\n    };\n    /** Override for handling the Auth.SignUp API call */\n\n\n    this.handleSignUp = function (params) {\n      return _this.authSignUp(params);\n    };\n    /** Used for header text in sign up component */\n\n\n    this.headerText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_HEADER_TEXT;\n    /** Used for the submit button text in sign up component */\n\n    this.submitButtonText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_SUBMIT_BUTTON_TEXT;\n    /** Used for the submit button text in sign up component */\n\n    this.haveAccountText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_HAVE_ACCOUNT_TEXT;\n    /** Text used for the sign in hyperlink */\n\n    this.signInText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_IN_TEXT;\n    /**\n     * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.\n     * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing\n     * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.\n     * ```\n     * [\n     *  {\n     *    type: string,\n     *    label: string,\n     *    placeholder: string,\n     *    hint: string | Functional Component | null,\n     *    required: boolean\n     *  }\n     * ]\n     * ```\n     */\n\n    this.formFields = [];\n    /** Auth state change handler for this component\n     * e.g. SignIn -> 'Create Account' link -> SignUp\n     */\n    // prettier-ignore\n\n    this.handleAuthStateChange = _helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"d\"];\n    /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */\n\n    this.usernameAlias = 'username'; // private userInput: string | PhoneNumberInterface;\n\n    this.newFormFields = [];\n    this.phoneNumber = {\n      countryDialCodeValue: _constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_7__[/* h */ \"o\"],\n      phoneNumberValue: null\n    };\n    this.loading = false;\n    this.signUpAttributes = {\n      username: '',\n      password: '',\n      attributes: {}\n    };\n  }\n\n  class_6.prototype.handleFormFieldInputChange = function (fieldType) {\n    var _this = this;\n\n    switch (fieldType) {\n      case 'username':\n        return function (event) {\n          return _this.signUpAttributes.username = event.target.value;\n        };\n\n      case 'password':\n        return function (event) {\n          return _this.signUpAttributes.password = event.target.value;\n        };\n\n      case 'email':\n        return function (event) {\n          return _this.signUpAttributes.attributes.email = event.target.value;\n        };\n\n      case 'phone_number':\n        return function (event) {\n          return Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[/* h */ \"g\"])(event, _this.phoneNumber);\n        };\n\n      default:\n        return function (event) {\n          return _this.signUpAttributes.attributes[fieldType] = event.target.value;\n        };\n    }\n  };\n\n  class_6.prototype.handleFormFieldInputWithCallback = function (event, field) {\n    var fnToCall = field['handleInputChange'] ? field['handleInputChange'] : function (event, cb) {\n      cb(event);\n    };\n    var callback = this.handleFormFieldInputChange(field.type);\n    fnToCall(event, callback.bind(this));\n  };\n\n  class_6.prototype.authSignUp = function (params) {\n    return __awaiter(this, void 0, void 0, function () {\n      var data;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].signUp(params)];\n\n          case 1:\n            data = _a.sent();\n\n            if (!data) {\n              throw new Error(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_FAILED);\n            }\n\n            return [2\n            /*return*/\n            , data];\n        }\n      });\n    });\n  };\n\n  class_6.prototype.assignPhoneNumberToSignUpAttributes = function () {\n    if (this.phoneNumber.phoneNumberValue) {\n      try {\n        this.signUpAttributes.attributes.phone_number = Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"b\"])(this.phoneNumber);\n      } catch (error) {\n        Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error);\n      }\n    }\n  };\n\n  class_6.prototype.assignUserNameAliasToSignUpAttributes = function () {\n    switch (this.usernameAlias) {\n      case 'email':\n      case 'phone_number':\n        this.signUpAttributes.username = this.signUpAttributes.attributes[this.usernameAlias];\n        break;\n    }\n  };\n\n  class_6.prototype.assignFormInputToSignUpAttributes = function () {\n    this.assignPhoneNumberToSignUpAttributes();\n    this.assignUserNameAliasToSignUpAttributes();\n  };\n\n  class_6.prototype.validateSignUpAttributes = function () {\n    if (!this.signUpAttributes.username) {\n      if (this.usernameAlias === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* U */ \"d\"].email) {\n        throw new Error(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].EMPTY_EMAIL);\n      } else if (this.usernameAlias === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* U */ \"d\"].phone_number) {\n        throw new Error(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].EMPTY_PHONE);\n      } else {\n        throw new Error(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].EMPTY_USERNAME);\n      }\n    }\n\n    if (this.signUpAttributes.username.indexOf(' ') >= 0) {\n      throw new Error(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].USERNAME_REMOVE_WHITESPACE);\n    }\n\n    if (this.signUpAttributes.password !== this.signUpAttributes.password.trim()) {\n      throw new Error(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].PASSWORD_REMOVE_WHITESPACE);\n    }\n  }; // TODO: Add validation\n  // TODO: Prefix\n\n\n  class_6.prototype.signUp = function (event) {\n    return __awaiter(this, void 0, void 0, function () {\n      var data, signUpAttrs, error_8;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (event) {\n              event.preventDefault();\n            }\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].signUp !== 'function') {\n              throw new Error(_constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            this.loading = true;\n            this.assignFormInputToSignUpAttributes();\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 6, 7, 8]);\n\n            this.validateSignUpAttributes();\n            return [4\n            /*yield*/\n            , this.handleSignUp(this.signUpAttributes)];\n\n          case 2:\n            data = _a.sent();\n            if (!data.userConfirmed) return [3\n            /*break*/\n            , 4];\n            return [4\n            /*yield*/\n            , Object(_auth_helpers_06958a0a_js__WEBPACK_IMPORTED_MODULE_9__[/* h */ \"b\"])(this.signUpAttributes.username, this.signUpAttributes.password, this.handleAuthStateChange)];\n\n          case 3:\n            _a.sent();\n\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            signUpAttrs = Object.assign({}, this.signUpAttributes);\n            this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].ConfirmSignUp, Object.assign(Object.assign({}, data.user), {\n              signUpAttrs: signUpAttrs\n            }));\n            _a.label = 5;\n\n          case 5:\n            return [3\n            /*break*/\n            , 8];\n\n          case 6:\n            error_8 = _a.sent();\n            Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_8);\n            return [3\n            /*break*/\n            , 8];\n\n          case 7:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 8:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_6.prototype.buildDefaultFormFields = function () {\n    switch (this.usernameAlias) {\n      case 'email':\n        this.newFormFields = [{\n          type: 'email',\n          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_EMAIL_PLACEHOLDER),\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('email'),\n          inputProps: {\n            'data-test': 'sign-up-email-input',\n            autocomplete: 'username'\n          }\n        }, {\n          type: 'password',\n          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_PASSWORD_PLACEHOLDER),\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('password'),\n          inputProps: {\n            'data-test': 'sign-up-password-input',\n            autocomplete: 'new-password'\n          }\n        }, {\n          type: 'phone_number',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('phone_number'),\n          inputProps: {\n            'data-test': 'sign-up-phone-number-input',\n            autocomplete: 'tel-national'\n          }\n        }];\n        break;\n\n      case 'phone_number':\n        this.newFormFields = [{\n          type: 'phone_number',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('phone_number'),\n          inputProps: {\n            'data-test': 'sign-up-phone-number-input',\n            autocomplete: 'username'\n          }\n        }, {\n          type: 'password',\n          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_PASSWORD_PLACEHOLDER),\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('password'),\n          inputProps: {\n            'data-test': 'sign-up-password-input',\n            autocomplete: 'new-password'\n          }\n        }, {\n          type: 'email',\n          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_EMAIL_PLACEHOLDER),\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('email'),\n          inputProps: {\n            'data-test': 'sign-up-email-input',\n            autocomplete: 'email'\n          }\n        }];\n        break;\n\n      case 'username':\n      default:\n        this.newFormFields = [{\n          type: 'username',\n          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_USERNAME_PLACEHOLDER),\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('username'),\n          inputProps: {\n            'data-test': 'sign-up-username-input',\n            autocomplete: 'username'\n          }\n        }, {\n          type: 'password',\n          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_PASSWORD_PLACEHOLDER),\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('password'),\n          inputProps: {\n            'data-test': 'sign-up-password-input',\n            autocomplete: 'new-password'\n          }\n        }, {\n          type: 'email',\n          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].SIGN_UP_EMAIL_PLACEHOLDER),\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('email'),\n          inputProps: {\n            'data-test': 'sign-up-email-input'\n          }\n        }, {\n          type: 'phone_number',\n          required: true,\n          handleInputChange: this.handleFormFieldInputChange('phone_number'),\n          inputProps: {\n            'data-test': 'sign-up-phone-number-input'\n          }\n        }];\n        break;\n    }\n  };\n\n  class_6.prototype.buildFormFields = function () {\n    var _this = this;\n\n    if (this.formFields.length === 0) {\n      this.buildDefaultFormFields();\n    } else {\n      var newFields_4 = [];\n      this.formFields.forEach(function (field) {\n        var newField = Object.assign({}, field);\n\n        newField['handleInputChange'] = function (event) {\n          return _this.handleFormFieldInputWithCallback(event, field);\n        };\n\n        _this.setFieldValue(field, _this.signUpAttributes);\n\n        newFields_4.push(newField);\n      });\n      this.newFormFields = newFields_4;\n    }\n  };\n\n  class_6.prototype.setFieldValue = function (field, formAttributes) {\n    switch (field.type) {\n      case 'username':\n        if (field.value === undefined) {\n          formAttributes.username = '';\n        } else {\n          formAttributes.username = field.value;\n        }\n\n        break;\n\n      case 'password':\n        if (field.value === undefined) {\n          formAttributes.password = '';\n        } else {\n          formAttributes.password = field.value;\n        }\n\n        break;\n\n      case 'email':\n        formAttributes.attributes.email = field.value;\n        break;\n\n      case 'phone_number':\n        if (field.dialCode) {\n          this.phoneNumber.countryDialCodeValue = field.dialCode;\n        }\n\n        this.phoneNumber.phoneNumberValue = field.value;\n        break;\n\n      default:\n        formAttributes.attributes[field.type] = field.value;\n        break;\n    }\n  };\n\n  class_6.prototype.componentWillLoad = function () {\n    Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"c\"])(this.usernameAlias);\n    this.buildFormFields();\n  };\n\n  class_6.prototype.formFieldsHandler = function () {\n    this.buildFormFields();\n  };\n\n  class_6.prototype.render = function () {\n    var _this = this;\n\n    return Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"b\"], null, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-form-section\", {\n      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.headerText),\n      handleSubmit: this.handleSubmit,\n      testDataPrefix: 'sign-up'\n    }, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", {\n      slot: \"subtitle\"\n    }, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"header-subtitle\"\n    })), Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-auth-fields\", {\n      formFields: this.newFormFields\n    }), Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", {\n      class: \"sign-up-form-footer\",\n      slot: \"amplify-form-section-footer\"\n    }, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"footer\"\n    }, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"secondary-footer-content\"\n    }, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.haveAccountText), ' ', Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n      variant: \"anchor\",\n      onClick: function onClick() {\n        return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignIn);\n      },\n      \"data-test\": \"sign-up-sign-in-link\"\n    }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.signInText)))), Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"slot\", {\n      name: \"primary-footer-content\"\n    }, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n      type: \"submit\",\n      \"data-test\": \"sign-up-create-account-button\",\n      disabled: this.loading\n    }, this.loading ? Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-loading-spinner\", null) : Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(this.submitButtonText))))))));\n  };\n\n  Object.defineProperty(class_6, \"watchers\", {\n    get: function get() {\n      return {\n        \"formFields\": [\"formFieldsHandler\"]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return class_6;\n}();\n\nAmplifySignUp.style = amplifySignUpCss;\nvar logger$2 = new _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* ConsoleLogger */ \"a\"]('AmplifyVerifyContact');\n\nvar AmplifyVerifyContact = function () {\n  function class_7(hostRef) {\n    Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n    /** Authentication state handler */\n\n    this.handleAuthStateChange = _helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"d\"];\n    this.loading = false;\n  }\n\n  class_7.prototype.handleSubmit = function (event) {\n    event.preventDefault();\n    this.verifyAttr ? this.submit(this.code) : this.verify(this.contact);\n  };\n\n  class_7.prototype.submit = function (code) {\n    return __awaiter(this, void 0, void 0, function () {\n      var attr, data, error_9;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            attr = this.verifyAttr;\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].verifyCurrentUserAttributeSubmit !== 'function') {\n              throw new Error(_constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            this.loading = true;\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3, 4, 5]);\n\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].verifyCurrentUserAttributeSubmit(attr, code)];\n\n          case 2:\n            data = _a.sent();\n            logger$2.debug(data);\n            this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignedIn, this.user);\n            this.verifyAttr = null;\n            return [3\n            /*break*/\n            , 5];\n\n          case 3:\n            error_9 = _a.sent();\n            Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_9);\n            logger$2.error(error_9);\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_7.prototype.verify = function (contact) {\n    return __awaiter(this, void 0, void 0, function () {\n      var data, error_10;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!contact) {\n              logger$2.error('Neither Email nor Phone Number selected');\n              return [2\n              /*return*/\n              ];\n            }\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].verifyCurrentUserAttribute !== 'function') {\n              throw new Error(_constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_7__[/* N */ \"d\"]);\n            }\n\n            this.loading = true;\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3, 4, 5]);\n\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_5__[/* Auth */ \"a\"].verifyCurrentUserAttribute(contact)];\n\n          case 2:\n            data = _a.sent();\n            logger$2.debug(data);\n            this.verifyAttr = contact;\n            return [3\n            /*break*/\n            , 5];\n\n          case 3:\n            error_10 = _a.sent();\n            Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(error_10);\n            logger$2.error(error_10);\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_7.prototype.handleInputChange = function (event) {\n    var inputName = event.target.name;\n\n    if (inputName === 'code') {\n      this.code = event.target.value;\n    } else if (inputName === 'contact') {\n      this.contact = event.target.value;\n    }\n  };\n\n  class_7.prototype.renderSubmit = function () {\n    var _this = this;\n\n    return Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", null, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-input\", {\n      inputProps: {\n        autocomplete: 'off',\n        'data-test': 'verify-contact-code-input'\n      },\n      name: \"code\",\n      placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].CODE_PLACEHOLDER),\n      handleInputChange: function handleInputChange(event) {\n        return _this.handleInputChange(event);\n      }\n    }));\n  };\n\n  class_7.prototype.renderVerify = function () {\n    var _this = this;\n\n    var user = this.user;\n\n    if (!user) {\n      logger$2.debug('No user to verify');\n      return null;\n    }\n\n    var unverified = user.unverified;\n\n    if (!unverified) {\n      logger$2.debug('Unverified variable does not exist on user');\n      return null;\n    }\n\n    var email = unverified.email,\n        phone_number = unverified.phone_number;\n    return Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", null, email && Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-radio-button\", {\n      label: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].VERIFY_CONTACT_EMAIL_LABEL),\n      key: \"email\",\n      name: \"contact\",\n      value: \"email\",\n      handleInputChange: function handleInputChange(event) {\n        return _this.handleInputChange(event);\n      },\n      inputProps: {\n        'data-test': 'verify-contact-email-radio'\n      }\n    }), phone_number && Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-radio-button\", {\n      label: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].VERIFY_CONTACT_PHONE_LABEL),\n      key: \"phone_number\",\n      name: \"contact\",\n      value: \"phone_number\",\n      handleInputChange: function handleInputChange(event) {\n        return _this.handleInputChange(event);\n      },\n      inputProps: {\n        'data-test': 'verify-contact-phone-number-radio'\n      }\n    }));\n  };\n\n  class_7.prototype.render = function () {\n    var _this = this;\n\n    return Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"b\"], null, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-form-section\", {\n      handleSubmit: function handleSubmit(event) {\n        return _this.handleSubmit(event);\n      },\n      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].VERIFY_CONTACT_HEADER_TEXT),\n      loading: this.loading,\n      secondaryFooterContent: Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", null, Object(_index_83f2275b_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-button\", {\n        variant: \"anchor\",\n        onClick: function onClick() {\n          return _this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_4__[/* A */ \"a\"].SignedIn, _this.user);\n        },\n        \"data-test\": \"verify-contact-skip-link\"\n      }, \"Skip\")),\n      submitButtonText: this.verifyAttr ? _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].VERIFY_CONTACT_SUBMIT_LABEL) : _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_6__[/* T */ \"a\"].VERIFY_CONTACT_VERIFY_LABEL)\n    }, this.verifyAttr ? this.renderSubmit() : this.renderVerify()));\n  };\n\n  return class_7;\n}();\n\n\n\n/***/ }),\n\n/***/ 281:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return checkContact; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return handleSignIn; });\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(40);\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(29);\n/* harmony import */ var _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(34);\n/* harmony import */ var _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(61);\n/* harmony import */ var _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(19);\n/* harmony import */ var _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9);\n/* harmony import */ var _constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(23);\n/* harmony import */ var _helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(97);\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = undefined && undefined.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\n\n\n\n\n\n\nvar logger = new _aws_amplify_core__WEBPACK_IMPORTED_MODULE_0__[/* ConsoleLogger */ \"a\"]('auth-helpers');\n\nfunction checkContact(user, handleAuthStateChange) {\n  return __awaiter(this, void 0, void 0, function () {\n    var data, newUser, error_1;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"].verifiedContact !== 'function') {\n            throw new Error(_constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_6__[/* N */ \"d\"]);\n          } // If `user` is a federated user, we shouldn't call `verifiedContact`\n          // since `user` isn't `CognitoUser`\n\n\n          if (!isCognitoUser(user)) {\n            handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].SignedIn, user);\n            return [2\n            /*return*/\n            ];\n          }\n\n          _a.label = 1;\n\n        case 1:\n          _a.trys.push([1, 3,, 4]);\n\n          return [4\n          /*yield*/\n          , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"].verifiedContact(user)];\n\n        case 2:\n          data = _a.sent();\n\n          if (!Object(_aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* isEmpty */ \"d\"])(data.verified) || Object(_aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* isEmpty */ \"d\"])(data.unverified)) {\n            handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].SignedIn, user);\n          } else {\n            newUser = Object.assign(user, data);\n            handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].VerifyContact, newUser);\n          }\n\n          return [3\n          /*break*/\n          , 4];\n\n        case 3:\n          error_1 = _a.sent();\n          Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_7__[\"a\"])(error_1);\n          return [3\n          /*break*/\n          , 4];\n\n        case 4:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n}\n\nvar handleSignIn = function handleSignIn(username, password, handleAuthStateChange, usernameAlias) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var user, error_2;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"].signIn !== 'function') {\n            throw new Error(_constants_ee3a6e1d_js__WEBPACK_IMPORTED_MODULE_6__[/* N */ \"d\"]);\n          }\n\n          _a.label = 1;\n\n        case 1:\n          _a.trys.push([1, 9,, 10]);\n\n          return [4\n          /*yield*/\n          , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"].signIn(username, password)];\n\n        case 2:\n          user = _a.sent();\n          logger.debug(user);\n          if (!(user.challengeName === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* C */ \"b\"].SMSMFA || user.challengeName === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* C */ \"b\"].SoftwareTokenMFA)) return [3\n          /*break*/\n          , 3];\n          logger.debug('confirm user with ' + user.challengeName);\n          handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].ConfirmSignIn, user);\n          return [3\n          /*break*/\n          , 8];\n\n        case 3:\n          if (!(user.challengeName === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* C */ \"b\"].NewPasswordRequired)) return [3\n          /*break*/\n          , 4];\n          logger.debug('require new password', user.challengeParam);\n          handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].ResetPassword, user);\n          return [3\n          /*break*/\n          , 8];\n\n        case 4:\n          if (!(user.challengeName === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* C */ \"b\"].MFASetup)) return [3\n          /*break*/\n          , 5];\n          logger.debug('TOTP setup', user.challengeParam);\n          handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].TOTPSetup, user);\n          return [3\n          /*break*/\n          , 8];\n\n        case 5:\n          if (!(user.challengeName === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* C */ \"b\"].CustomChallenge && user.challengeParam && user.challengeParam.trigger === 'true')) return [3\n          /*break*/\n          , 6];\n          logger.debug('custom challenge', user.challengeParam);\n          handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].CustomConfirmSignIn, user);\n          return [3\n          /*break*/\n          , 8];\n\n        case 6:\n          return [4\n          /*yield*/\n          , checkContact(user, handleAuthStateChange)];\n\n        case 7:\n          _a.sent();\n\n          _a.label = 8;\n\n        case 8:\n          return [3\n          /*break*/\n          , 10];\n\n        case 9:\n          error_2 = _a.sent();\n\n          if (error_2.code === 'UserNotConfirmedException') {\n            logger.debug('the user is not confirmed');\n            handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].ConfirmSignUp, {\n              username: username\n            });\n          } else if (error_2.code === 'PasswordResetRequiredException') {\n            logger.debug('the user requires a new password');\n            handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].ForgotPassword, {\n              username: username\n            });\n          } else if (error_2.code === 'InvalidParameterException' && password === '') {\n            logger.debug('Password cannot be empty');\n            error_2.message = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__[/* T */ \"a\"].EMPTY_PASSWORD;\n          } else if (error_2.message === _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__[/* T */ \"a\"].EMPTY_USERNAME) {\n            if (usernameAlias === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* U */ \"d\"].email) {\n              error_2.message = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__[/* T */ \"a\"].EMPTY_EMAIL;\n            }\n\n            if (usernameAlias === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* U */ \"d\"].phone_number) {\n              error_2.message = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__[/* T */ \"a\"].EMPTY_PHONE;\n            }\n          }\n\n          Object(_helpers_5aff4922_js__WEBPACK_IMPORTED_MODULE_7__[\"a\"])(error_2);\n          return [3\n          /*break*/\n          , 10];\n\n        case 10:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n};\n\nvar isCognitoUser = function isCognitoUser(user) {\n  return user instanceof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__[/* CognitoUser */ \"e\"];\n};\n\n\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/xiangming/Documents/workspace/wild-vet/node_modules/@aws-amplify/ui-components/dist/esm-es5/amplify-confirm-sign-in_7.entry.js","/Users/xiangming/Documents/workspace/wild-vet/node_modules/@aws-amplify/ui-components/dist/esm-es5/auth-helpers-06958a0a.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","__spreadArrays","s","i","il","arguments","r","Array","k","a","j","jl","AmplifyConfirmSignIn","class_1","hostRef","_this","registerInstance","handleSubmit","event","confirm","headerText","Translations","CONFIRM_SMS_CODE","submitButtonText","CONFIRM","handleAuthStateChange","dispatchAuthStateChangeEvent","defaultFormFields","type","required","handleInputChange","handleCodeChange","formFields","mfaOption","MfaOption","SMS","loading","prototype","componentWillLoad","setup","userHandler","user","ChallengeName","SoftwareTokenMFA","TOTP","CONFIRM_TOTP_CODE","constructedFormFieldOptions","constructFormFieldOptions","code","target","mfaType","error_1","_a","preventDefault","Auth","confirmSignIn","Error","NO_AUTH_MODULE_FOUND","checkContact","dispatchToastHubEvent","content","undefined","forEach","formField","Object","assign","render","h","Host","I18n","get","secondaryFooterContent","variant","onClick","AuthState","SignIn","BACK_TO_SIGN_IN","defineProperty","enumerable","configurable","AmplifyConfirmSignUp","class_2","confirmSignUp","CONFIRM_SIGN_UP_HEADER_TEXT","CONFIRM_SIGN_UP_SUBMIT_BUTTON_TEXT","usernameAlias","newFormFields","phoneNumber","countryDialCodeValue","COUNTRY_DIAL_CODE_DEFAULT","phoneNumberValue","formFieldsHandler","buildFormFields","userInput","username","_signUpAttrs","signUpAttrs","checkUsernameAlias","buildDefaultFormFields","handleFormFieldInputChange","disabled","inputProps","autocomplete","CONFIRM_SIGN_UP_CODE_LABEL","placeholder","CONFIRM_SIGN_UP_CODE_PLACEHOLDER","hint","CONFIRM_SIGN_UP_LOST_CODE","resendConfirmCode","CONFIRM_SIGN_UP_RESEND_CODE","newFields_1","field","newField","isHintValid","handleFormFieldInputWithCallback","fieldType","handlePhoneNumberChange","setFieldValue","dialCode","fnToCall","cb","callback","bind","getUsername","composePhoneNumberInput","error_2","resendSignUp","EMPTY_USERNAME","trim","confirmSignUpResult","error_3","CONFIRM_SIGN_UP_FAILED","password","handleSignIn","logger","Logger","AmplifyForgotPassword","class_3","RESET_YOUR_PASSWORD","sendButtonText","SEND_CODE","SUBMIT","handleSend","send","submit","delivery","forgotPasswordAttrs","newFields_2","formAttributes","data","error_4","forgotPassword","error","debug","NEW_PASSWORD_LABEL","NEW_PASSWORD_PLACEHOLDER","CodeDeliveryDetails","error_5","_b","forgotPasswordSubmit","submitFn","testDataPrefix","logger$1","ConsoleLogger","AmplifyRequireNewPassword","class_4","CHANGE_PASSWORD","CHANGE_PASSWORD_ACTION","completeNewPassword","AuthFormField","Password","handlePasswordChange","requiredAttributes","setCurrentUser","handleRequiredAttributeInputChange","attribute","formatPhoneNumber","error_6","userRequiredAttributes","requiredAttributesMap_1","currentAuthenticatedUser","currentUser","challengeParam","getRequiredAttributesMap","name","PHONE_SUFFIX","composedInput","err","error_7","challengeName","SMSMFA","MFASetup","ConfirmSignIn","TOTPSetup","amplifySignInCss","AmplifySignIn","class_5","signIn","SIGN_IN_HEADER_TEXT","SIGN_IN_ACTION","hideSignUp","signInAttributes","formFieldInputs","FORGOT_PASSWORD_TEXT","ForgotPassword","RESET_PASSWORD_TEXT","newFields_3","slot","federated","isEmpty","class","NO_ACCOUNT_TEXT","SignUp","CREATE_ACCOUNT_TEXT","style","amplifySignUpCss","AmplifySignUp","class_6","signUp","handleSignUp","params","authSignUp","SIGN_UP_HEADER_TEXT","SIGN_UP_SUBMIT_BUTTON_TEXT","haveAccountText","SIGN_UP_HAVE_ACCOUNT_TEXT","signInText","SIGN_IN_TEXT","signUpAttributes","attributes","email","SIGN_UP_FAILED","assignPhoneNumberToSignUpAttributes","phone_number","assignUserNameAliasToSignUpAttributes","assignFormInputToSignUpAttributes","validateSignUpAttributes","UsernameAlias","EMPTY_EMAIL","EMPTY_PHONE","indexOf","USERNAME_REMOVE_WHITESPACE","PASSWORD_REMOVE_WHITESPACE","error_8","userConfirmed","ConfirmSignUp","SIGN_UP_EMAIL_PLACEHOLDER","SIGN_UP_PASSWORD_PLACEHOLDER","SIGN_UP_USERNAME_PLACEHOLDER","newFields_4","logger$2","AmplifyVerifyContact","class_7","verifyAttr","verify","contact","attr","error_9","verifyCurrentUserAttributeSubmit","SignedIn","error_10","verifyCurrentUserAttribute","inputName","renderSubmit","CODE_PLACEHOLDER","renderVerify","unverified","VERIFY_CONTACT_EMAIL_LABEL","key","VERIFY_CONTACT_PHONE_LABEL","VERIFY_CONTACT_HEADER_TEXT","VERIFY_CONTACT_SUBMIT_LABEL","VERIFY_CONTACT_VERIFY_LABEL","newUser","verifiedContact","isCognitoUser","verified","VerifyContact","NewPasswordRequired","ResetPassword","CustomChallenge","trigger","CustomConfirmSignIn","message","EMPTY_PASSWORD","CognitoUser"],"mappings":"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","file":"x","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { r as registerInstance, h, H as Host } from './index-83f2275b.js';\nimport { I18n, Logger, ConsoleLogger, isEmpty } from '@aws-amplify/core';\nimport { M as MfaOption, C as ChallengeName, A as AuthState, a as AuthFormField, U as UsernameAlias } from './auth-types-78df304e.js';\nimport { Auth } from '@aws-amplify/auth';\nimport { T as Translations } from './Translations-c833f663.js';\nimport { N as NO_AUTH_MODULE_FOUND, h as COUNTRY_DIAL_CODE_DEFAULT, b as PHONE_SUFFIX } from './constants-ee3a6e1d.js';\nimport { d as dispatchAuthStateChangeEvent, a as dispatchToastHubEvent, c as checkUsernameAlias, i as isHintValid, h as handlePhoneNumberChange, b as composePhoneNumberInput, g as getRequiredAttributesMap } from './helpers-5aff4922.js';\nimport { c as checkContact, h as handleSignIn } from './auth-helpers-06958a0a.js';\nvar AmplifyConfirmSignIn = /** @class */ (function () {\n    function class_1(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /** Fires when confirm sign in form is submitted */\n        this.handleSubmit = function (event) { return _this.confirm(event); };\n        /** Used for header text in confirm sign in component */\n        this.headerText = Translations.CONFIRM_SMS_CODE;\n        /** Used for the submit button text in confirm sign in component */\n        this.submitButtonText = Translations.CONFIRM;\n        /** Auth state change handler for this component */\n        this.handleAuthStateChange = dispatchAuthStateChangeEvent;\n        /** Default form field */\n        this.defaultFormFields = [\n            {\n                type: 'code',\n                required: true,\n                handleInputChange: function (event) { return _this.handleCodeChange(event); },\n            },\n        ];\n        /**\n         * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.\n         * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing\n         * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.\n         * ```\n         * [\n         *  {\n         *    type: string,\n         *    label: string,\n         *    placeholder: string,\n         *    hint: string | Functional Component | null,\n         *    required: boolean\n         *  }\n         * ]\n         * ```\n         */\n        this.formFields = this.defaultFormFields;\n        /** The MFA option to confirm with */\n        this.mfaOption = MfaOption.SMS;\n        /* Whether or not the confirm-sign-in component is loading */\n        this.loading = false;\n    }\n    class_1.prototype.componentWillLoad = function () {\n        this.setup();\n    };\n    class_1.prototype.userHandler = function () {\n        this.setup();\n    };\n    class_1.prototype.setup = function () {\n        if (this.user &&\n            this.user['challengeName'] === ChallengeName.SoftwareTokenMFA) {\n            this.mfaOption = MfaOption.TOTP;\n            // If header text is using default use TOTP string\n            if (this.headerText === Translations.CONFIRM_SMS_CODE) {\n                this.headerText = Translations.CONFIRM_TOTP_CODE;\n            }\n        }\n        this.constructedFormFieldOptions = this.constructFormFieldOptions(this.formFields);\n    };\n    class_1.prototype.handleCodeChange = function (event) {\n        this.code = event.target.value;\n    };\n    class_1.prototype.confirm = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var mfaType, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        mfaType = this.user['challengeName'] === ChallengeName.SoftwareTokenMFA\n                            ? ChallengeName.SoftwareTokenMFA\n                            : null;\n                        if (!Auth || typeof Auth.confirmSignIn !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 4, 5, 6]);\n                        return [4 /*yield*/, Auth.confirmSignIn(this.user, this.code, mfaType)];\n                    case 2:\n                        _a.sent();\n                        return [4 /*yield*/, checkContact(this.user, this.handleAuthStateChange)];\n                    case 3:\n                        _a.sent();\n                        return [3 /*break*/, 6];\n                    case 4:\n                        error_1 = _a.sent();\n                        dispatchToastHubEvent(error_1);\n                        return [3 /*break*/, 6];\n                    case 5:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.constructFormFieldOptions = function (formFields) {\n        var _this = this;\n        var content = [];\n        if (formFields === undefined)\n            return undefined;\n        if (formFields.length <= 0)\n            return this.defaultFormFields;\n        formFields.forEach(function (formField) {\n            if (typeof formField === 'string' || formField.type !== 'code') {\n                // This is either a `string`, and/or a custom field that isn't `code`. Pass this directly.\n                content.push(formField);\n            }\n            else {\n                // This is a code input field. Attach input handler.\n                content.push(Object.assign({ handleInputChange: function (event) { return _this.handleCodeChange(event); } }, formField));\n            }\n        });\n        return content;\n    };\n    class_1.prototype.render = function () {\n        var _this = this;\n        return (h(Host, null, h(\"amplify-form-section\", { headerText: I18n.get(this.headerText), handleSubmit: this.handleSubmit, submitButtonText: I18n.get(this.submitButtonText), loading: this.loading, secondaryFooterContent: h(\"span\", null, h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.SignIn); } }, I18n.get(Translations.BACK_TO_SIGN_IN))) }, h(\"amplify-auth-fields\", { formFields: this.constructedFormFieldOptions }))));\n    };\n    Object.defineProperty(class_1, \"watchers\", {\n        get: function () {\n            return {\n                \"user\": [\"userHandler\"]\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return class_1;\n}());\nvar AmplifyConfirmSignUp = /** @class */ (function () {\n    function class_2(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /** Fires when sign up form is submitted */\n        this.handleSubmit = function (event) { return _this.confirmSignUp(event); };\n        /** Used for header text in confirm sign up component */\n        this.headerText = Translations.CONFIRM_SIGN_UP_HEADER_TEXT;\n        /** Used for the submit button text in confirm sign up component */\n        this.submitButtonText = Translations.CONFIRM_SIGN_UP_SUBMIT_BUTTON_TEXT;\n        /**\n         * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.\n         * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing\n         * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.\n         * ```\n         * [\n         *  {\n         *    type: string,\n         *    label: string,\n         *    placeholder: string,\n         *    hint: string | Functional Component | null,\n         *    required: boolean\n         *  }\n         * ]\n         * ```\n         */\n        this.formFields = [];\n        /** Auth state change handler for this components\n         * e.g. SignIn -> 'Create Account' link -> SignUp\n         */\n        this.handleAuthStateChange = dispatchAuthStateChangeEvent;\n        /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */\n        this.usernameAlias = 'username';\n        this.loading = false;\n        this.newFormFields = [];\n        this.phoneNumber = {\n            countryDialCodeValue: COUNTRY_DIAL_CODE_DEFAULT,\n            phoneNumberValue: null,\n        };\n    }\n    class_2.prototype.componentWillLoad = function () {\n        this.setup();\n    };\n    class_2.prototype.formFieldsHandler = function () {\n        this.buildFormFields();\n    };\n    class_2.prototype.userHandler = function () {\n        this.setup();\n    };\n    class_2.prototype.setup = function () {\n        // TODO: Use optional chaining instead\n        this.userInput = this.user && this.user.username;\n        this._signUpAttrs = this.user && this.user.signUpAttrs;\n        checkUsernameAlias(this.usernameAlias);\n        this.buildFormFields();\n    };\n    class_2.prototype.buildDefaultFormFields = function () {\n        var _this = this;\n        this.newFormFields = [\n            {\n                type: \"\" + this.usernameAlias,\n                required: true,\n                handleInputChange: this.handleFormFieldInputChange(\"\" + this.usernameAlias),\n                value: this.userInput,\n                disabled: this.userInput ? true : false,\n                inputProps: { autocomplete: 'username' },\n            },\n            {\n                type: 'code',\n                label: I18n.get(Translations.CONFIRM_SIGN_UP_CODE_LABEL),\n                placeholder: I18n.get(Translations.CONFIRM_SIGN_UP_CODE_PLACEHOLDER),\n                required: true,\n                hint: (h(\"div\", null, I18n.get(Translations.CONFIRM_SIGN_UP_LOST_CODE), ' ', h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.resendConfirmCode(); } }, I18n.get(Translations.CONFIRM_SIGN_UP_RESEND_CODE)))),\n                handleInputChange: this.handleFormFieldInputChange('code'),\n            },\n        ];\n    };\n    class_2.prototype.buildFormFields = function () {\n        var _this = this;\n        if (this.formFields.length === 0) {\n            this.buildDefaultFormFields();\n        }\n        else {\n            var newFields_1 = [];\n            this.formFields.forEach(function (field) {\n                var newField = Object.assign({}, field);\n                if (newField.type === 'code') {\n                    newField['hint'] = isHintValid(newField) ? (h(\"div\", null, I18n.get(Translations.CONFIRM_SIGN_UP_LOST_CODE), ' ', h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.resendConfirmCode(); } }, I18n.get(Translations.CONFIRM_SIGN_UP_RESEND_CODE)))) : (newField['hint']);\n                }\n                newField['handleInputChange'] = function (event) { return _this.handleFormFieldInputWithCallback(event, field); };\n                newFields_1.push(newField);\n            });\n            this.newFormFields = newFields_1;\n        }\n    };\n    class_2.prototype.handleFormFieldInputChange = function (fieldType) {\n        var _this = this;\n        switch (fieldType) {\n            case 'username':\n            case 'email':\n                return function (event) { return (_this.userInput = event.target.value); };\n            case 'phone_number':\n                return function (event) { return handlePhoneNumberChange(event, _this.phoneNumber); };\n            case 'code':\n                return function (event) { return (_this.code = event.target.value); };\n            default:\n                return;\n        }\n    };\n    class_2.prototype.setFieldValue = function (field) {\n        switch (field.type) {\n            case 'username':\n            case 'email':\n                if (field.value === undefined) {\n                    this.userInput = '';\n                }\n                else {\n                    this.userInput = field.value;\n                }\n                break;\n            case 'phone_number':\n                if (field.dialCode) {\n                    this.phoneNumber.countryDialCodeValue = field.dialCode;\n                }\n                this.phoneNumber.phoneNumberValue = field.value;\n                break;\n        }\n    };\n    class_2.prototype.handleFormFieldInputWithCallback = function (event, field) {\n        var fnToCall = field['handleInputChange']\n            ? field['handleInputChange']\n            : function (event, cb) {\n                cb(event);\n            };\n        var callback = this.handleFormFieldInputChange(field.type);\n        fnToCall(event, callback.bind(this));\n    };\n    /**\n     * Returns the username of the user to confirm. If a valid `user.username` has been passed as a prop, we return that.\n     * Otherwise, we return the `userInput` on the form.\n     */\n    class_2.prototype.getUsername = function () {\n        if (this.user && this.user.username)\n            return this.user.username;\n        switch (this.usernameAlias) {\n            case 'username':\n            case 'email':\n                return this.userInput;\n            case 'phone_number':\n                return composePhoneNumberInput(this.phoneNumber);\n        }\n    };\n    class_2.prototype.resendConfirmCode = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var username, error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        if (!Auth || typeof Auth.resendSignUp !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        username = this.getUsername();\n                        if (!username)\n                            throw new Error(Translations.EMPTY_USERNAME);\n                        return [4 /*yield*/, Auth.resendSignUp(username.trim())];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_2 = _a.sent();\n                        dispatchToastHubEvent(error_2);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    // TODO: Add validation\n    // TODO: Prefix\n    class_2.prototype.confirmSignUp = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var username, confirmSignUpResult, error_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        if (!Auth || typeof Auth.confirmSignUp !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 6, 7, 8]);\n                        username = this.getUsername();\n                        if (!username)\n                            throw new Error(Translations.EMPTY_USERNAME);\n                        username = username.trim();\n                        return [4 /*yield*/, Auth.confirmSignUp(username, this.code)];\n                    case 2:\n                        confirmSignUpResult = _a.sent();\n                        if (!confirmSignUpResult) {\n                            throw new Error(I18n.get(Translations.CONFIRM_SIGN_UP_FAILED));\n                        }\n                        if (!(this._signUpAttrs &&\n                            this._signUpAttrs.password &&\n                            this._signUpAttrs.password !== '')) return [3 /*break*/, 4];\n                        // Auto sign in user if password is available from previous workflow\n                        return [4 /*yield*/, handleSignIn(username, this._signUpAttrs.password, this.handleAuthStateChange)];\n                    case 3:\n                        // Auto sign in user if password is available from previous workflow\n                        _a.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        this.handleAuthStateChange(AuthState.SignIn);\n                        _a.label = 5;\n                    case 5: return [3 /*break*/, 8];\n                    case 6:\n                        error_3 = _a.sent();\n                        dispatchToastHubEvent(error_3);\n                        return [3 /*break*/, 8];\n                    case 7:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 8: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_2.prototype.render = function () {\n        var _this = this;\n        return (h(Host, null, h(\"amplify-form-section\", { headerText: I18n.get(this.headerText), submitButtonText: I18n.get(this.submitButtonText), handleSubmit: this.handleSubmit, loading: this.loading, secondaryFooterContent: h(\"div\", null, h(\"span\", null, h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.SignIn); } }, I18n.get(Translations.BACK_TO_SIGN_IN)))) }, h(\"amplify-auth-fields\", { formFields: this.newFormFields }))));\n    };\n    Object.defineProperty(class_2, \"watchers\", {\n        get: function () {\n            return {\n                \"formFields\": [\"formFieldsHandler\"],\n                \"user\": [\"userHandler\"]\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return class_2;\n}());\nvar logger = new Logger('ForgotPassword');\nvar AmplifyForgotPassword = /** @class */ (function () {\n    function class_3(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /** The header text of the forgot password section */\n        this.headerText = Translations.RESET_YOUR_PASSWORD;\n        /** The text displayed inside of the send code button for the form */\n        this.sendButtonText = Translations.SEND_CODE;\n        /** The text displayed inside of the submit button for the form */\n        this.submitButtonText = Translations.SUBMIT;\n        /** The form fields displayed inside of the forgot password form */\n        this.formFields = [];\n        /** The function called when making a request to reset password */\n        this.handleSend = function (event) { return _this.send(event); };\n        /** The function called when submitting a new password */\n        this.handleSubmit = function (event) { return _this.submit(event); };\n        /** Auth state change handler for this component */\n        this.handleAuthStateChange = dispatchAuthStateChangeEvent;\n        /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */\n        this.usernameAlias = 'username';\n        this.delivery = null;\n        this.loading = false;\n        this.phoneNumber = {\n            countryDialCodeValue: COUNTRY_DIAL_CODE_DEFAULT,\n            phoneNumberValue: null,\n        };\n        this.newFormFields = [];\n        this.forgotPasswordAttrs = {\n            userInput: '',\n            password: '',\n            code: '',\n        };\n    }\n    class_3.prototype.componentWillLoad = function () {\n        checkUsernameAlias(this.usernameAlias);\n        this.buildFormFields();\n    };\n    class_3.prototype.formFieldsHandler = function () {\n        this.buildFormFields();\n    };\n    class_3.prototype.buildFormFields = function () {\n        var _this = this;\n        if (this.formFields.length === 0) {\n            this.buildDefaultFormFields();\n        }\n        else {\n            var newFields_2 = [];\n            this.formFields.forEach(function (field) {\n                var newField = Object.assign({}, field);\n                newField['handleInputChange'] = function (event) { return _this.handleFormFieldInputWithCallback(event, field); };\n                newFields_2.push(newField);\n            });\n            this.newFormFields = newFields_2;\n        }\n    };\n    class_3.prototype.buildDefaultFormFields = function () {\n        switch (this.usernameAlias) {\n            case 'email':\n                this.newFormFields = [\n                    {\n                        type: 'email',\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('email'),\n                        inputProps: {\n                            'data-test': 'forgot-password-email-input',\n                        },\n                    },\n                ];\n                break;\n            case 'phone_number':\n                this.newFormFields = [\n                    {\n                        type: 'phone_number',\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('phone_number'),\n                        inputProps: {\n                            'data-test': 'forgot-password-phone-number-input',\n                        },\n                    },\n                ];\n                break;\n            case 'username':\n            default:\n                this.newFormFields = [\n                    {\n                        type: 'username',\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('username'),\n                        inputProps: {\n                            'data-test': 'forgot-password-username-input',\n                        },\n                    },\n                ];\n                break;\n        }\n    };\n    class_3.prototype.handleFormFieldInputChange = function (fieldType) {\n        var _this = this;\n        switch (fieldType) {\n            case 'username':\n            case 'email':\n                return function (event) { return (_this.forgotPasswordAttrs.userInput = event.target.value); };\n            case 'phone_number':\n                return function (event) { return handlePhoneNumberChange(event, _this.phoneNumber); };\n            case 'password':\n            case 'code':\n                return function (event) { return (_this.forgotPasswordAttrs[fieldType] = event.target.value); };\n            default:\n                return;\n        }\n    };\n    class_3.prototype.setFieldValue = function (field, formAttributes) {\n        switch (field.type) {\n            case 'username':\n            case 'email':\n                if (field.value === undefined) {\n                    formAttributes.userInput = '';\n                }\n                else {\n                    formAttributes.userInput = field.value;\n                }\n                break;\n            case 'phone_number':\n                if (field.dialCode) {\n                    this.phoneNumber.countryDialCodeValue = field.dialCode;\n                }\n                this.phoneNumber.phoneNumberValue = field.value;\n                break;\n            case 'password':\n            case 'code':\n                if (field.value === undefined) {\n                    formAttributes[field.type] = '';\n                }\n                else {\n                    formAttributes[field.type] = field.value;\n                }\n                break;\n        }\n    };\n    class_3.prototype.handleFormFieldInputWithCallback = function (event, field) {\n        var fnToCall = field['handleInputChange']\n            ? field['handleInputChange']\n            : function (event, cb) {\n                cb(event);\n            };\n        var callback = this.handleFormFieldInputChange(field.type);\n        fnToCall(event, callback.bind(this));\n    };\n    class_3.prototype.send = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var data, error_4;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        if (!Auth || typeof Auth.forgotPassword !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        switch (this.usernameAlias) {\n                            case 'phone_number':\n                                try {\n                                    this.forgotPasswordAttrs.userInput = composePhoneNumberInput(this.phoneNumber);\n                                }\n                                catch (error) {\n                                    dispatchToastHubEvent(error);\n                                }\n                                break;\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, 4, 5]);\n                        return [4 /*yield*/, Auth.forgotPassword(this.forgotPasswordAttrs.userInput.trim())];\n                    case 2:\n                        data = _a.sent();\n                        logger.debug(data);\n                        this.newFormFields = [\n                            {\n                                type: 'code',\n                                required: true,\n                                handleInputChange: this.handleFormFieldInputChange('code'),\n                                inputProps: {\n                                    'data-test': 'forgot-password-code-input',\n                                },\n                            },\n                            {\n                                type: 'password',\n                                required: true,\n                                handleInputChange: this.handleFormFieldInputChange('password'),\n                                label: I18n.get(Translations.NEW_PASSWORD_LABEL),\n                                placeholder: I18n.get(Translations.NEW_PASSWORD_PLACEHOLDER),\n                            },\n                        ];\n                        this.delivery = data.CodeDeliveryDetails;\n                        return [3 /*break*/, 5];\n                    case 3:\n                        error_4 = _a.sent();\n                        dispatchToastHubEvent(error_4);\n                        return [3 /*break*/, 5];\n                    case 4:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_3.prototype.submit = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, userInput, code, password, data, error_5;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        if (!Auth || typeof Auth.forgotPasswordSubmit !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, 4, 5]);\n                        _a = this.forgotPasswordAttrs, userInput = _a.userInput, code = _a.code, password = _a.password;\n                        return [4 /*yield*/, Auth.forgotPasswordSubmit(userInput.trim(), code, password)];\n                    case 2:\n                        data = _b.sent();\n                        logger.debug(data);\n                        this.handleAuthStateChange(AuthState.SignIn);\n                        this.delivery = null;\n                        return [3 /*break*/, 5];\n                    case 3:\n                        error_5 = _b.sent();\n                        dispatchToastHubEvent(error_5);\n                        return [3 /*break*/, 5];\n                    case 4:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_3.prototype.render = function () {\n        var _this = this;\n        var submitFn = this.delivery\n            ? function (event) { return _this.handleSubmit(event); }\n            : function (event) { return _this.handleSend(event); };\n        var submitButtonText = this.delivery\n            ? this.submitButtonText\n            : this.sendButtonText;\n        return (h(Host, null, h(\"amplify-form-section\", { headerText: I18n.get(this.headerText), handleSubmit: submitFn, loading: this.loading, secondaryFooterContent: h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.SignIn); }, \"data-test\": \"forgot-password-back-to-sign-in-link\" }, I18n.get(Translations.BACK_TO_SIGN_IN)), testDataPrefix: 'forgot-password', submitButtonText: I18n.get(submitButtonText) }, h(\"amplify-auth-fields\", { formFields: this.newFormFields }))));\n    };\n    Object.defineProperty(class_3, \"watchers\", {\n        get: function () {\n            return {\n                \"formFields\": [\"formFieldsHandler\"]\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return class_3;\n}());\nvar logger$1 = new ConsoleLogger('amplify-require-new-password');\nvar AmplifyRequireNewPassword = /** @class */ (function () {\n    function class_4(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /** The header text of the forgot password section */\n        this.headerText = Translations.CHANGE_PASSWORD;\n        /** The text displayed inside of the submit button for the form */\n        this.submitButtonText = Translations.CHANGE_PASSWORD_ACTION;\n        /** The function called when submitting a new password */\n        this.handleSubmit = function (event) { return _this.completeNewPassword(event); };\n        /** Auth state change handler for this component */\n        this.handleAuthStateChange = dispatchAuthStateChangeEvent;\n        /** The form fields displayed inside of the forgot password form */\n        this.formFields = [\n            {\n                type: AuthFormField.Password,\n                required: true,\n                handleInputChange: function (event) { return _this.handlePasswordChange(event); },\n                label: I18n.get(Translations.NEW_PASSWORD_LABEL),\n                placeholder: I18n.get(Translations.NEW_PASSWORD_PLACEHOLDER),\n                inputProps: {\n                    'data-test': 'require-new-password-password-input',\n                },\n            },\n        ];\n        this.loading = false;\n        this.requiredAttributes = {};\n        this.newFormFields = this.formFields;\n        this.phoneNumber = {\n            countryDialCodeValue: COUNTRY_DIAL_CODE_DEFAULT,\n            phoneNumberValue: ' ',\n        };\n    }\n    class_4.prototype.userHandler = function () {\n        this.setCurrentUser();\n    };\n    class_4.prototype.handleRequiredAttributeInputChange = function (attribute, event) {\n        if (attribute === 'phone_number') {\n            this.formatPhoneNumber(event);\n        }\n        else {\n            this.requiredAttributes[attribute] = event.target.value;\n        }\n    };\n    class_4.prototype.setCurrentUser = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var user, error_6, userRequiredAttributes, requiredAttributesMap_1;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this.user) return [3 /*break*/, 5];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, Auth.currentAuthenticatedUser()];\n                    case 2:\n                        user = _a.sent();\n                        if (user)\n                            this.currentUser = user;\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_6 = _a.sent();\n                        dispatchToastHubEvent(error_6);\n                        return [3 /*break*/, 4];\n                    case 4: return [3 /*break*/, 6];\n                    case 5:\n                        this.currentUser = this.user;\n                        _a.label = 6;\n                    case 6:\n                        if (this.currentUser &&\n                            this.currentUser.challengeParam &&\n                            this.currentUser.challengeParam.requiredAttributes) {\n                            userRequiredAttributes = this.currentUser.challengeParam\n                                .requiredAttributes;\n                            requiredAttributesMap_1 = getRequiredAttributesMap();\n                            userRequiredAttributes.forEach(function (attribute) {\n                                var formField = {\n                                    type: attribute,\n                                    required: true,\n                                    label: requiredAttributesMap_1[attribute].label,\n                                    placeholder: requiredAttributesMap_1[attribute].placeholder,\n                                    handleInputChange: function (event) { return _this.handleRequiredAttributeInputChange(attribute, event); },\n                                    inputProps: {\n                                        'data-test': \"require-new-password-\" + attribute + \"-input\",\n                                    },\n                                };\n                                _this.newFormFields = __spreadArrays(_this.newFormFields, [formField]);\n                            });\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_4.prototype.componentWillLoad = function () {\n        return this.setCurrentUser();\n    };\n    class_4.prototype.handlePasswordChange = function (event) {\n        this.password = event.target.value;\n    };\n    class_4.prototype.formatPhoneNumber = function (event) {\n        handlePhoneNumberChange(event, this.phoneNumber);\n        /**\n         * composePhoneNumberInput will throw an error if the phoneNumberValue it receives\n         * is empty. Adding a check here to try and make sure that doesn't happen...but will\n         * wrap it in a try/catch block just in case as well\n         */\n        try {\n            if (event.target.name === PHONE_SUFFIX &&\n                this.phoneNumber.phoneNumberValue) {\n                var composedInput = composePhoneNumberInput(this.phoneNumber);\n                this.requiredAttributes['phone_number'] = composedInput;\n            }\n        }\n        catch (err) {\n            logger$1.error(\"error in phone number field - \" + err);\n        }\n    };\n    class_4.prototype.completeNewPassword = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var user, _a, error_7;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        if (!Auth || typeof Auth.completeNewPassword !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 8, 9, 10]);\n                        return [4 /*yield*/, Auth.completeNewPassword(this.currentUser, this.password, this.requiredAttributes)];\n                    case 2:\n                        user = _b.sent();\n                        logger$1.debug('complete new password', user);\n                        _a = user.challengeName;\n                        switch (_a) {\n                            case ChallengeName.SMSMFA: return [3 /*break*/, 3];\n                            case ChallengeName.MFASetup: return [3 /*break*/, 4];\n                        }\n                        return [3 /*break*/, 5];\n                    case 3:\n                        this.handleAuthStateChange(AuthState.ConfirmSignIn, user);\n                        return [3 /*break*/, 7];\n                    case 4:\n                        logger$1.debug('TOTP setup', user.challengeParam);\n                        this.handleAuthStateChange(AuthState.TOTPSetup, user);\n                        return [3 /*break*/, 7];\n                    case 5: return [4 /*yield*/, checkContact(user, this.handleAuthStateChange)];\n                    case 6:\n                        _b.sent();\n                        _b.label = 7;\n                    case 7: return [3 /*break*/, 10];\n                    case 8:\n                        error_7 = _b.sent();\n                        dispatchToastHubEvent(error_7);\n                        return [3 /*break*/, 10];\n                    case 9:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 10: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_4.prototype.render = function () {\n        var _this = this;\n        return (h(Host, null, h(\"amplify-form-section\", { headerText: I18n.get(this.headerText), handleSubmit: this.handleSubmit, loading: this.loading, secondaryFooterContent: h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.SignIn); } }, I18n.get(Translations.BACK_TO_SIGN_IN)), submitButtonText: I18n.get(this.submitButtonText) }, h(\"amplify-auth-fields\", { formFields: this.newFormFields }))));\n    };\n    Object.defineProperty(class_4, \"watchers\", {\n        get: function () {\n            return {\n                \"user\": [\"userHandler\"]\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return class_4;\n}());\nvar amplifySignInCss = \":host{--footer-size:var(--amplify-text-sm);--footer-color:var(--amplify-grey);--footer-font-family:var(--amplify-font-family);--font-weight:var(--amplify-font-weight)}.sign-in-form-footer{font-family:var(--footer-font-family);font-size:var(--footer-size);color:var(--footer-color);font-weight:--font-weight;display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.sign-in-form-footer amplify-button{margin-bottom:0.625rem}@media (min-width: 672px){.sign-in-form-footer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:baseline;align-items:baseline}.sign-in-form-footer amplify-button{margin-bottom:0}}.sign-in-form-footer *+*{margin-bottom:15px}.full-width-footer-content{width:100%}\";\nvar AmplifySignIn = /** @class */ (function () {\n    function class_5(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /** Fires when sign in form is submitted */\n        this.handleSubmit = function (event) { return _this.signIn(event); };\n        /** Used for header text in sign in component */\n        this.headerText = Translations.SIGN_IN_HEADER_TEXT;\n        /** Used for the submit button text in sign in component */\n        this.submitButtonText = Translations.SIGN_IN_ACTION;\n        /** Auth state change handler for this component */\n        // prettier-ignore\n        this.handleAuthStateChange = dispatchAuthStateChangeEvent;\n        /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */\n        this.usernameAlias = 'username';\n        /**\n         * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.\n         * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing\n         * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.\n         * ```\n         * [\n         *  {\n         *    type: string,\n         *    label: string,\n         *    placeholder: string,\n         *    hint: string | Functional Component | null,\n         *    required: boolean\n         *  }\n         * ]\n         * ```\n         */\n        this.formFields = [];\n        /** Hides the sign up link */\n        this.hideSignUp = false;\n        this.newFormFields = [];\n        /* Whether or not the sign-in component is loading */\n        this.loading = false;\n        this.phoneNumber = {\n            countryDialCodeValue: COUNTRY_DIAL_CODE_DEFAULT,\n            phoneNumberValue: null,\n        };\n        this.signInAttributes = {\n            userInput: '',\n            password: '',\n        };\n    }\n    class_5.prototype.componentWillLoad = function () {\n        checkUsernameAlias(this.usernameAlias);\n        this.buildFormFields();\n    };\n    class_5.prototype.formFieldsHandler = function () {\n        this.buildFormFields();\n    };\n    class_5.prototype.handleFormFieldInputChange = function (fieldType) {\n        var _this = this;\n        switch (fieldType) {\n            case 'username':\n            case 'email':\n                return function (event) { return (_this.signInAttributes.userInput = event.target.value); };\n            case 'phone_number':\n                return function (event) { return handlePhoneNumberChange(event, _this.phoneNumber); };\n            case 'password':\n                return function (event) { return (_this.signInAttributes.password = event.target.value); };\n            default:\n                return function () { };\n        }\n    };\n    class_5.prototype.handleFormFieldInputWithCallback = function (event, field) {\n        var fnToCall = field['handleInputChange']\n            ? field['handleInputChange']\n            : function (event, cb) {\n                cb(event);\n            };\n        var callback = this.handleFormFieldInputChange(field.type);\n        fnToCall(event, callback.bind(this));\n    };\n    class_5.prototype.signIn = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var username;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // avoid submitting the form\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        this.loading = true;\n                        switch (this.usernameAlias) {\n                            case 'phone_number':\n                                try {\n                                    this.signInAttributes.userInput = composePhoneNumberInput(this.phoneNumber);\n                                }\n                                catch (error) {\n                                    dispatchToastHubEvent(error);\n                                }\n                        }\n                        username = this.signInAttributes.userInput.trim();\n                        return [4 /*yield*/, handleSignIn(username, this.signInAttributes.password, this.handleAuthStateChange, this.usernameAlias)];\n                    case 1:\n                        _a.sent();\n                        this.loading = false;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_5.prototype.buildDefaultFormFields = function () {\n        var _this = this;\n        var formFieldInputs = [];\n        switch (this.usernameAlias) {\n            case 'email':\n                formFieldInputs.push({\n                    type: 'email',\n                    required: true,\n                    handleInputChange: this.handleFormFieldInputChange('email'),\n                    inputProps: {\n                        'data-test': 'sign-in-email-input',\n                        autocomplete: 'username',\n                    },\n                });\n                break;\n            case 'phone_number':\n                formFieldInputs.push({\n                    type: 'phone_number',\n                    required: true,\n                    handleInputChange: this.handleFormFieldInputChange('phone_number'),\n                    inputProps: {\n                        'data-test': 'sign-in-phone-number-input',\n                        autocomplete: 'username',\n                    },\n                });\n                break;\n            case 'username':\n            default:\n                formFieldInputs.push({\n                    type: 'username',\n                    required: true,\n                    handleInputChange: this.handleFormFieldInputChange('username'),\n                    inputProps: {\n                        'data-test': 'sign-in-username-input',\n                        autocomplete: 'username',\n                    },\n                });\n                break;\n        }\n        formFieldInputs.push({\n            type: 'password',\n            hint: (h(\"div\", null, I18n.get(Translations.FORGOT_PASSWORD_TEXT), ' ', h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.ForgotPassword); }, \"data-test\": \"sign-in-forgot-password-link\" }, I18n.get(Translations.RESET_PASSWORD_TEXT)))),\n            required: true,\n            handleInputChange: this.handleFormFieldInputChange('password'),\n            inputProps: {\n                'data-test': 'sign-in-password-input',\n            },\n        });\n        this.newFormFields = __spreadArrays(formFieldInputs);\n    };\n    class_5.prototype.buildFormFields = function () {\n        var _this = this;\n        if (this.formFields.length === 0) {\n            this.buildDefaultFormFields();\n        }\n        else {\n            var newFields_3 = [];\n            this.formFields.forEach(function (field) {\n                var newField = Object.assign({}, field);\n                // TODO: handle hint better\n                if (newField.type === 'password') {\n                    newField['hint'] = isHintValid(newField) ? (h(\"div\", null, I18n.get(Translations.FORGOT_PASSWORD_TEXT), ' ', h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.ForgotPassword); }, \"data-test\": \"sign-in-forgot-password-link\" }, I18n.get(Translations.RESET_PASSWORD_TEXT)))) : (newField['hint']);\n                }\n                newField['handleInputChange'] = function (event) { return _this.handleFormFieldInputWithCallback(event, field); };\n                _this.setFieldValue(newField, _this.signInAttributes);\n                newFields_3.push(newField);\n            });\n            this.newFormFields = newFields_3;\n        }\n    };\n    class_5.prototype.setFieldValue = function (field, formAttributes) {\n        switch (field.type) {\n            case 'username':\n            case 'email':\n                if (field.value === undefined) {\n                    formAttributes.userInput = '';\n                }\n                else {\n                    formAttributes.userInput = field.value;\n                }\n                break;\n            case 'phone_number':\n                if (field.dialCode) {\n                    this.phoneNumber.countryDialCodeValue = field.dialCode;\n                }\n                this.phoneNumber.phoneNumberValue = field.value;\n                break;\n            case 'password':\n                if (field.value === undefined) {\n                    formAttributes.password = '';\n                }\n                else {\n                    formAttributes.password = field.value;\n                }\n                break;\n        }\n    };\n    class_5.prototype.render = function () {\n        var _this = this;\n        return (h(Host, null, h(\"amplify-form-section\", { headerText: I18n.get(this.headerText), handleSubmit: this.handleSubmit, testDataPrefix: 'sign-in' }, h(\"div\", { slot: \"subtitle\" }, h(\"slot\", { name: \"header-subtitle\" })), h(\"slot\", { name: \"federated-buttons\" }, h(\"amplify-federated-buttons\", { handleAuthStateChange: this.handleAuthStateChange, federated: this.federated })), !isEmpty(this.federated) && h(\"amplify-strike\", null, \"or\"), h(\"amplify-auth-fields\", { formFields: this.newFormFields }), h(\"div\", { slot: \"amplify-form-section-footer\", class: \"sign-in-form-footer\" }, h(\"slot\", { name: \"footer\" }, !this.hideSignUp && (h(\"slot\", { name: \"secondary-footer-content\" }, h(\"span\", null, I18n.get(Translations.NO_ACCOUNT_TEXT), ' ', h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.SignUp); }, \"data-test\": \"sign-in-create-account-link\" }, I18n.get(Translations.CREATE_ACCOUNT_TEXT))))), h(\"div\", { class: this.hideSignUp ? 'full-width-footer-content' : '' }, h(\"slot\", { name: \"primary-footer-content\" }, h(\"amplify-button\", { type: \"submit\", disabled: this.loading, \"data-test\": \"sign-in-sign-in-button\" }, this.loading ? (h(\"amplify-loading-spinner\", null)) : (h(\"span\", null, I18n.get(this.submitButtonText)))))))))));\n    };\n    Object.defineProperty(class_5, \"watchers\", {\n        get: function () {\n            return {\n                \"formFields\": [\"formFieldsHandler\"]\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return class_5;\n}());\nAmplifySignIn.style = amplifySignInCss;\nvar amplifySignUpCss = \"amplify-sign-up{--footer-font-family:var(--amplify-font-family);--footer-font-size:var(--amplify-text-sm);--footer-color:var(--amplify-grey);--font-weight:var(--amplify-font-weight)}.sign-up-form-footer{font-family:var(--footer-font-family);font-size:var(--footer-font-size);color:var(--footer-color);font-weight:--font-weight;display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.sign-up-form-footer amplify-button{margin-bottom:0.625rem}@media (min-width: 672px){.sign-up-form-footer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:baseline;align-items:baseline}.sign-up-form-footer amplify-button{margin-bottom:0}}.sign-up-form-footer *+*{margin-bottom:15px}\";\nvar AmplifySignUp = /** @class */ (function () {\n    function class_6(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /** Fires when sign up form is submitted */\n        this.handleSubmit = function (event) { return _this.signUp(event); };\n        /** Override for handling the Auth.SignUp API call */\n        this.handleSignUp = function (params) { return _this.authSignUp(params); };\n        /** Used for header text in sign up component */\n        this.headerText = Translations.SIGN_UP_HEADER_TEXT;\n        /** Used for the submit button text in sign up component */\n        this.submitButtonText = Translations.SIGN_UP_SUBMIT_BUTTON_TEXT;\n        /** Used for the submit button text in sign up component */\n        this.haveAccountText = Translations.SIGN_UP_HAVE_ACCOUNT_TEXT;\n        /** Text used for the sign in hyperlink */\n        this.signInText = Translations.SIGN_IN_TEXT;\n        /**\n         * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.\n         * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing\n         * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.\n         * ```\n         * [\n         *  {\n         *    type: string,\n         *    label: string,\n         *    placeholder: string,\n         *    hint: string | Functional Component | null,\n         *    required: boolean\n         *  }\n         * ]\n         * ```\n         */\n        this.formFields = [];\n        /** Auth state change handler for this component\n         * e.g. SignIn -> 'Create Account' link -> SignUp\n         */\n        // prettier-ignore\n        this.handleAuthStateChange = dispatchAuthStateChangeEvent;\n        /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */\n        this.usernameAlias = 'username';\n        // private userInput: string | PhoneNumberInterface;\n        this.newFormFields = [];\n        this.phoneNumber = {\n            countryDialCodeValue: COUNTRY_DIAL_CODE_DEFAULT,\n            phoneNumberValue: null,\n        };\n        this.loading = false;\n        this.signUpAttributes = {\n            username: '',\n            password: '',\n            attributes: {},\n        };\n    }\n    class_6.prototype.handleFormFieldInputChange = function (fieldType) {\n        var _this = this;\n        switch (fieldType) {\n            case 'username':\n                return function (event) { return (_this.signUpAttributes.username = event.target.value); };\n            case 'password':\n                return function (event) { return (_this.signUpAttributes.password = event.target.value); };\n            case 'email':\n                return function (event) { return (_this.signUpAttributes.attributes.email = event.target.value); };\n            case 'phone_number':\n                return function (event) { return handlePhoneNumberChange(event, _this.phoneNumber); };\n            default:\n                return function (event) { return (_this.signUpAttributes.attributes[fieldType] = event.target.value); };\n        }\n    };\n    class_6.prototype.handleFormFieldInputWithCallback = function (event, field) {\n        var fnToCall = field['handleInputChange']\n            ? field['handleInputChange']\n            : function (event, cb) {\n                cb(event);\n            };\n        var callback = this.handleFormFieldInputChange(field.type);\n        fnToCall(event, callback.bind(this));\n    };\n    class_6.prototype.authSignUp = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, Auth.signUp(params)];\n                    case 1:\n                        data = _a.sent();\n                        if (!data) {\n                            throw new Error(Translations.SIGN_UP_FAILED);\n                        }\n                        return [2 /*return*/, data];\n                }\n            });\n        });\n    };\n    class_6.prototype.assignPhoneNumberToSignUpAttributes = function () {\n        if (this.phoneNumber.phoneNumberValue) {\n            try {\n                this.signUpAttributes.attributes.phone_number = composePhoneNumberInput(this.phoneNumber);\n            }\n            catch (error) {\n                dispatchToastHubEvent(error);\n            }\n        }\n    };\n    class_6.prototype.assignUserNameAliasToSignUpAttributes = function () {\n        switch (this.usernameAlias) {\n            case 'email':\n            case 'phone_number':\n                this.signUpAttributes.username = this.signUpAttributes.attributes[this.usernameAlias];\n                break;\n        }\n    };\n    class_6.prototype.assignFormInputToSignUpAttributes = function () {\n        this.assignPhoneNumberToSignUpAttributes();\n        this.assignUserNameAliasToSignUpAttributes();\n    };\n    class_6.prototype.validateSignUpAttributes = function () {\n        if (!this.signUpAttributes.username) {\n            if (this.usernameAlias === UsernameAlias.email) {\n                throw new Error(Translations.EMPTY_EMAIL);\n            }\n            else if (this.usernameAlias === UsernameAlias.phone_number) {\n                throw new Error(Translations.EMPTY_PHONE);\n            }\n            else {\n                throw new Error(Translations.EMPTY_USERNAME);\n            }\n        }\n        if (this.signUpAttributes.username.indexOf(' ') >= 0) {\n            throw new Error(Translations.USERNAME_REMOVE_WHITESPACE);\n        }\n        if (this.signUpAttributes.password !== this.signUpAttributes.password.trim()) {\n            throw new Error(Translations.PASSWORD_REMOVE_WHITESPACE);\n        }\n    };\n    // TODO: Add validation\n    // TODO: Prefix\n    class_6.prototype.signUp = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var data, signUpAttrs, error_8;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        if (!Auth || typeof Auth.signUp !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        this.assignFormInputToSignUpAttributes();\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 6, 7, 8]);\n                        this.validateSignUpAttributes();\n                        return [4 /*yield*/, this.handleSignUp(this.signUpAttributes)];\n                    case 2:\n                        data = _a.sent();\n                        if (!data.userConfirmed) return [3 /*break*/, 4];\n                        return [4 /*yield*/, handleSignIn(this.signUpAttributes.username, this.signUpAttributes.password, this.handleAuthStateChange)];\n                    case 3:\n                        _a.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        signUpAttrs = Object.assign({}, this.signUpAttributes);\n                        this.handleAuthStateChange(AuthState.ConfirmSignUp, Object.assign(Object.assign({}, data.user), { signUpAttrs: signUpAttrs }));\n                        _a.label = 5;\n                    case 5: return [3 /*break*/, 8];\n                    case 6:\n                        error_8 = _a.sent();\n                        dispatchToastHubEvent(error_8);\n                        return [3 /*break*/, 8];\n                    case 7:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 8: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_6.prototype.buildDefaultFormFields = function () {\n        switch (this.usernameAlias) {\n            case 'email':\n                this.newFormFields = [\n                    {\n                        type: 'email',\n                        placeholder: I18n.get(Translations.SIGN_UP_EMAIL_PLACEHOLDER),\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('email'),\n                        inputProps: {\n                            'data-test': 'sign-up-email-input',\n                            autocomplete: 'username',\n                        },\n                    },\n                    {\n                        type: 'password',\n                        placeholder: I18n.get(Translations.SIGN_UP_PASSWORD_PLACEHOLDER),\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('password'),\n                        inputProps: {\n                            'data-test': 'sign-up-password-input',\n                            autocomplete: 'new-password',\n                        },\n                    },\n                    {\n                        type: 'phone_number',\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('phone_number'),\n                        inputProps: {\n                            'data-test': 'sign-up-phone-number-input',\n                            autocomplete: 'tel-national',\n                        },\n                    },\n                ];\n                break;\n            case 'phone_number':\n                this.newFormFields = [\n                    {\n                        type: 'phone_number',\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('phone_number'),\n                        inputProps: {\n                            'data-test': 'sign-up-phone-number-input',\n                            autocomplete: 'username',\n                        },\n                    },\n                    {\n                        type: 'password',\n                        placeholder: I18n.get(Translations.SIGN_UP_PASSWORD_PLACEHOLDER),\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('password'),\n                        inputProps: {\n                            'data-test': 'sign-up-password-input',\n                            autocomplete: 'new-password',\n                        },\n                    },\n                    {\n                        type: 'email',\n                        placeholder: I18n.get(Translations.SIGN_UP_EMAIL_PLACEHOLDER),\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('email'),\n                        inputProps: {\n                            'data-test': 'sign-up-email-input',\n                            autocomplete: 'email',\n                        },\n                    },\n                ];\n                break;\n            case 'username':\n            default:\n                this.newFormFields = [\n                    {\n                        type: 'username',\n                        placeholder: I18n.get(Translations.SIGN_UP_USERNAME_PLACEHOLDER),\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('username'),\n                        inputProps: {\n                            'data-test': 'sign-up-username-input',\n                            autocomplete: 'username',\n                        },\n                    },\n                    {\n                        type: 'password',\n                        placeholder: I18n.get(Translations.SIGN_UP_PASSWORD_PLACEHOLDER),\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('password'),\n                        inputProps: {\n                            'data-test': 'sign-up-password-input',\n                            autocomplete: 'new-password',\n                        },\n                    },\n                    {\n                        type: 'email',\n                        placeholder: I18n.get(Translations.SIGN_UP_EMAIL_PLACEHOLDER),\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('email'),\n                        inputProps: {\n                            'data-test': 'sign-up-email-input',\n                        },\n                    },\n                    {\n                        type: 'phone_number',\n                        required: true,\n                        handleInputChange: this.handleFormFieldInputChange('phone_number'),\n                        inputProps: {\n                            'data-test': 'sign-up-phone-number-input',\n                        },\n                    },\n                ];\n                break;\n        }\n    };\n    class_6.prototype.buildFormFields = function () {\n        var _this = this;\n        if (this.formFields.length === 0) {\n            this.buildDefaultFormFields();\n        }\n        else {\n            var newFields_4 = [];\n            this.formFields.forEach(function (field) {\n                var newField = Object.assign({}, field);\n                newField['handleInputChange'] = function (event) { return _this.handleFormFieldInputWithCallback(event, field); };\n                _this.setFieldValue(field, _this.signUpAttributes);\n                newFields_4.push(newField);\n            });\n            this.newFormFields = newFields_4;\n        }\n    };\n    class_6.prototype.setFieldValue = function (field, formAttributes) {\n        switch (field.type) {\n            case 'username':\n                if (field.value === undefined) {\n                    formAttributes.username = '';\n                }\n                else {\n                    formAttributes.username = field.value;\n                }\n                break;\n            case 'password':\n                if (field.value === undefined) {\n                    formAttributes.password = '';\n                }\n                else {\n                    formAttributes.password = field.value;\n                }\n                break;\n            case 'email':\n                formAttributes.attributes.email = field.value;\n                break;\n            case 'phone_number':\n                if (field.dialCode) {\n                    this.phoneNumber.countryDialCodeValue = field.dialCode;\n                }\n                this.phoneNumber.phoneNumberValue = field.value;\n                break;\n            default:\n                formAttributes.attributes[field.type] = field.value;\n                break;\n        }\n    };\n    class_6.prototype.componentWillLoad = function () {\n        checkUsernameAlias(this.usernameAlias);\n        this.buildFormFields();\n    };\n    class_6.prototype.formFieldsHandler = function () {\n        this.buildFormFields();\n    };\n    class_6.prototype.render = function () {\n        var _this = this;\n        return (h(Host, null, h(\"amplify-form-section\", { headerText: I18n.get(this.headerText), handleSubmit: this.handleSubmit, testDataPrefix: 'sign-up' }, h(\"div\", { slot: \"subtitle\" }, h(\"slot\", { name: \"header-subtitle\" })), h(\"amplify-auth-fields\", { formFields: this.newFormFields }), h(\"div\", { class: \"sign-up-form-footer\", slot: \"amplify-form-section-footer\" }, h(\"slot\", { name: \"footer\" }, h(\"slot\", { name: \"secondary-footer-content\" }, h(\"span\", null, I18n.get(this.haveAccountText), ' ', h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.SignIn); }, \"data-test\": \"sign-up-sign-in-link\" }, I18n.get(this.signInText)))), h(\"slot\", { name: \"primary-footer-content\" }, h(\"amplify-button\", { type: \"submit\", \"data-test\": \"sign-up-create-account-button\", disabled: this.loading }, this.loading ? (h(\"amplify-loading-spinner\", null)) : (h(\"span\", null, I18n.get(this.submitButtonText))))))))));\n    };\n    Object.defineProperty(class_6, \"watchers\", {\n        get: function () {\n            return {\n                \"formFields\": [\"formFieldsHandler\"]\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return class_6;\n}());\nAmplifySignUp.style = amplifySignUpCss;\nvar logger$2 = new Logger('AmplifyVerifyContact');\nvar AmplifyVerifyContact = /** @class */ (function () {\n    function class_7(hostRef) {\n        registerInstance(this, hostRef);\n        /** Authentication state handler */\n        this.handleAuthStateChange = dispatchAuthStateChangeEvent;\n        this.loading = false;\n    }\n    class_7.prototype.handleSubmit = function (event) {\n        event.preventDefault();\n        this.verifyAttr ? this.submit(this.code) : this.verify(this.contact);\n    };\n    class_7.prototype.submit = function (code) {\n        return __awaiter(this, void 0, void 0, function () {\n            var attr, data, error_9;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        attr = this.verifyAttr;\n                        if (!Auth || typeof Auth.verifyCurrentUserAttributeSubmit !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, 4, 5]);\n                        return [4 /*yield*/, Auth.verifyCurrentUserAttributeSubmit(attr, code)];\n                    case 2:\n                        data = _a.sent();\n                        logger$2.debug(data);\n                        this.handleAuthStateChange(AuthState.SignedIn, this.user);\n                        this.verifyAttr = null;\n                        return [3 /*break*/, 5];\n                    case 3:\n                        error_9 = _a.sent();\n                        dispatchToastHubEvent(error_9);\n                        logger$2.error(error_9);\n                        return [3 /*break*/, 5];\n                    case 4:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_7.prototype.verify = function (contact) {\n        return __awaiter(this, void 0, void 0, function () {\n            var data, error_10;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!contact) {\n                            logger$2.error('Neither Email nor Phone Number selected');\n                            return [2 /*return*/];\n                        }\n                        if (!Auth || typeof Auth.verifyCurrentUserAttribute !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, 4, 5]);\n                        return [4 /*yield*/, Auth.verifyCurrentUserAttribute(contact)];\n                    case 2:\n                        data = _a.sent();\n                        logger$2.debug(data);\n                        this.verifyAttr = contact;\n                        return [3 /*break*/, 5];\n                    case 3:\n                        error_10 = _a.sent();\n                        dispatchToastHubEvent(error_10);\n                        logger$2.error(error_10);\n                        return [3 /*break*/, 5];\n                    case 4:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_7.prototype.handleInputChange = function (event) {\n        var inputName = event.target.name;\n        if (inputName === 'code') {\n            this.code = event.target.value;\n        }\n        else if (inputName === 'contact') {\n            this.contact = event.target.value;\n        }\n    };\n    class_7.prototype.renderSubmit = function () {\n        var _this = this;\n        return (h(\"div\", null, h(\"amplify-input\", { inputProps: {\n                autocomplete: 'off',\n                'data-test': 'verify-contact-code-input',\n            }, name: \"code\", placeholder: I18n.get(Translations.CODE_PLACEHOLDER), handleInputChange: function (event) { return _this.handleInputChange(event); } })));\n    };\n    class_7.prototype.renderVerify = function () {\n        var _this = this;\n        var user = this.user;\n        if (!user) {\n            logger$2.debug('No user to verify');\n            return null;\n        }\n        var unverified = user.unverified;\n        if (!unverified) {\n            logger$2.debug('Unverified variable does not exist on user');\n            return null;\n        }\n        var email = unverified.email, phone_number = unverified.phone_number;\n        return (h(\"div\", null, email && (h(\"amplify-radio-button\", { label: I18n.get(Translations.VERIFY_CONTACT_EMAIL_LABEL), key: \"email\", name: \"contact\", value: \"email\", handleInputChange: function (event) { return _this.handleInputChange(event); }, inputProps: {\n                'data-test': 'verify-contact-email-radio',\n            } })), phone_number && (h(\"amplify-radio-button\", { label: I18n.get(Translations.VERIFY_CONTACT_PHONE_LABEL), key: \"phone_number\", name: \"contact\", value: \"phone_number\", handleInputChange: function (event) { return _this.handleInputChange(event); }, inputProps: {\n                'data-test': 'verify-contact-phone-number-radio',\n            } }))));\n    };\n    class_7.prototype.render = function () {\n        var _this = this;\n        return (h(Host, null, h(\"amplify-form-section\", { handleSubmit: function (event) { return _this.handleSubmit(event); }, headerText: I18n.get(Translations.VERIFY_CONTACT_HEADER_TEXT), loading: this.loading, secondaryFooterContent: h(\"span\", null, h(\"amplify-button\", { variant: \"anchor\", onClick: function () { return _this.handleAuthStateChange(AuthState.SignedIn, _this.user); }, \"data-test\": \"verify-contact-skip-link\" }, \"Skip\")), submitButtonText: this.verifyAttr\n                ? I18n.get(Translations.VERIFY_CONTACT_SUBMIT_LABEL)\n                : I18n.get(Translations.VERIFY_CONTACT_VERIFY_LABEL) }, this.verifyAttr ? this.renderSubmit() : this.renderVerify())));\n    };\n    return class_7;\n}());\nexport { AmplifyConfirmSignIn as amplify_confirm_sign_in, AmplifyConfirmSignUp as amplify_confirm_sign_up, AmplifyForgotPassword as amplify_forgot_password, AmplifyRequireNewPassword as amplify_require_new_password, AmplifySignIn as amplify_sign_in, AmplifySignUp as amplify_sign_up, AmplifyVerifyContact as amplify_verify_contact };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { Logger, isEmpty } from '@aws-amplify/core';\nimport { A as AuthState, C as ChallengeName, U as UsernameAlias } from './auth-types-78df304e.js';\nimport { Auth, CognitoUser } from '@aws-amplify/auth';\nimport { T as Translations } from './Translations-c833f663.js';\nimport { N as NO_AUTH_MODULE_FOUND } from './constants-ee3a6e1d.js';\nimport { a as dispatchToastHubEvent } from './helpers-5aff4922.js';\nvar logger = new Logger('auth-helpers');\nfunction checkContact(user, handleAuthStateChange) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, newUser, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!Auth || typeof Auth.verifiedContact !== 'function') {\n                        throw new Error(NO_AUTH_MODULE_FOUND);\n                    }\n                    // If `user` is a federated user, we shouldn't call `verifiedContact`\n                    // since `user` isn't `CognitoUser`\n                    if (!isCognitoUser(user)) {\n                        handleAuthStateChange(AuthState.SignedIn, user);\n                        return [2 /*return*/];\n                    }\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, Auth.verifiedContact(user)];\n                case 2:\n                    data = _a.sent();\n                    if (!isEmpty(data.verified) || isEmpty(data.unverified)) {\n                        handleAuthStateChange(AuthState.SignedIn, user);\n                    }\n                    else {\n                        newUser = Object.assign(user, data);\n                        handleAuthStateChange(AuthState.VerifyContact, newUser);\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_1 = _a.sent();\n                    dispatchToastHubEvent(error_1);\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\nvar handleSignIn = function (username, password, handleAuthStateChange, usernameAlias) { return __awaiter(void 0, void 0, void 0, function () {\n    var user, error_2;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!Auth || typeof Auth.signIn !== 'function') {\n                    throw new Error(NO_AUTH_MODULE_FOUND);\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 9, , 10]);\n                return [4 /*yield*/, Auth.signIn(username, password)];\n            case 2:\n                user = _a.sent();\n                logger.debug(user);\n                if (!(user.challengeName === ChallengeName.SMSMFA ||\n                    user.challengeName === ChallengeName.SoftwareTokenMFA)) return [3 /*break*/, 3];\n                logger.debug('confirm user with ' + user.challengeName);\n                handleAuthStateChange(AuthState.ConfirmSignIn, user);\n                return [3 /*break*/, 8];\n            case 3:\n                if (!(user.challengeName === ChallengeName.NewPasswordRequired)) return [3 /*break*/, 4];\n                logger.debug('require new password', user.challengeParam);\n                handleAuthStateChange(AuthState.ResetPassword, user);\n                return [3 /*break*/, 8];\n            case 4:\n                if (!(user.challengeName === ChallengeName.MFASetup)) return [3 /*break*/, 5];\n                logger.debug('TOTP setup', user.challengeParam);\n                handleAuthStateChange(AuthState.TOTPSetup, user);\n                return [3 /*break*/, 8];\n            case 5:\n                if (!(user.challengeName === ChallengeName.CustomChallenge &&\n                    user.challengeParam &&\n                    user.challengeParam.trigger === 'true')) return [3 /*break*/, 6];\n                logger.debug('custom challenge', user.challengeParam);\n                handleAuthStateChange(AuthState.CustomConfirmSignIn, user);\n                return [3 /*break*/, 8];\n            case 6: return [4 /*yield*/, checkContact(user, handleAuthStateChange)];\n            case 7:\n                _a.sent();\n                _a.label = 8;\n            case 8: return [3 /*break*/, 10];\n            case 9:\n                error_2 = _a.sent();\n                if (error_2.code === 'UserNotConfirmedException') {\n                    logger.debug('the user is not confirmed');\n                    handleAuthStateChange(AuthState.ConfirmSignUp, { username: username });\n                }\n                else if (error_2.code === 'PasswordResetRequiredException') {\n                    logger.debug('the user requires a new password');\n                    handleAuthStateChange(AuthState.ForgotPassword, { username: username });\n                }\n                else if (error_2.code === 'InvalidParameterException' && password === '') {\n                    logger.debug('Password cannot be empty');\n                    error_2.message = Translations.EMPTY_PASSWORD;\n                }\n                else if (error_2.message === Translations.EMPTY_USERNAME) {\n                    if (usernameAlias === UsernameAlias.email) {\n                        error_2.message = Translations.EMPTY_EMAIL;\n                    }\n                    if (usernameAlias === UsernameAlias.phone_number) {\n                        error_2.message = Translations.EMPTY_PHONE;\n                    }\n                }\n                dispatchToastHubEvent(error_2);\n                return [3 /*break*/, 10];\n            case 10: return [2 /*return*/];\n        }\n    });\n}); };\nvar isCognitoUser = function (user) {\n    return user instanceof CognitoUser;\n};\nexport { checkContact as c, handleSignIn as h };\n"]}}